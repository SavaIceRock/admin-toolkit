{"version":3,"sources":["application/types/index.ts","containers/login/styles.ts","containers/login/SignIn/index.tsx","containers/layout/Account/index.tsx","containers/layout/Account/styles.ts","containers/layout/Navigation/index.tsx","containers/layout/Navigation/styles.ts","application/modules/PageRenderer/index.tsx","containers/login/ForgotPassword/index.tsx","application/modules/Application/index.tsx","application/modules/Application/styles.ts","application/modules/AuthProvider/index.tsx","application/modules/JWTAuthProvider/index.tsx","containers/login/Notification/index.tsx","application/modules/Notification/index.tsx","application/modules/Config/index.tsx","application/modules/Page/index.tsx","components/pages/EntityHeadSortable/index.tsx","containers/pages/EntityList/index.tsx","containers/pages/EntityList/styles.ts","components/pages/FilterText/index.tsx","components/pages/FilterText/styles.ts","components/pages/Filter/index.tsx","components/pages/Filter/styles.ts","containers/pages/EntityHead/index.tsx","containers/pages/EntityHead/styles.ts","containers/pages/EntityFooter/index.tsx","containers/pages/EntityViewer/index.tsx","containers/pages/EntityViewer/styles.ts","application/modules/Entity/index.tsx","application/index.ts","application/types/entity.ts","components/pages/EntityFieldString/index.tsx","components/pages/EntityFieldDate/index.tsx","components/pages/EntityFieldBoolean/index.tsx","components/pages/EntityFieldSelect/index.tsx","components/pages/EntityFieldPhone/index.tsx","components/pages/EntityFieldRichText/index.tsx","components/pages/EntityFieldBase64/index.tsx","components/pages/EntityFieldBase64/styles.ts","realConfig/auth.ts","realConfig/api.ts","realConfig/theme.ts","realConfig/components/RegionSelectField/index.tsx","realConfig/components/CitySelectField/index.tsx","realConfig/components/VehicleSelectField/index.tsx","realConfig/components/InquiryStatusField/index.tsx","realConfig/pages/vehicle.ts","realConfig/pages/feedback.ts","realConfig/index.ts","realConfig/roles.ts","realConfig/pages/admins.ts","realConfig/pages/customer.ts","realConfig/pages/news.ts","index.tsx","application/types/auth.ts"],"names":["theme","createStyles","wrap","display","alignItems","justifyContent","minHeight","paper","padding","spacing","header","fontSize","fontWeight","marginTop","forgot","cursor","color","palette","text","opacity","SignIn","withStyles","styles","withTheme","classes","onForgotScreenClick","onSubmit","useState","email","setEmail","password","setPassword","onSubmitCapture","useCallback","event","preventDefault","onEmailChange","target","value","onPasswordChange","className","Container","component","maxWidth","Paper","Typography","align","noValidate","TextField","variant","margin","required","fullWidth","id","label","name","autoComplete","defaultValue","onChange","autoFocus","type","InputProps","endAdornment","InputAdornment","position","onClick","Button","disabled","length","Account","account","paddingLeft","borderLeft","height","marginLeft","accountCircle","width","backgroundColor","borderRadius","textTransform","lineHeight","role","onLogout","ref","useRef","isMenuOpen","setIsMenuOpen","onMenuOpen","onMenuClose","IconButton","aria-label","aria-controls","aria-haspopup","charAt","Menu","anchorEl","current","keepMounted","open","onClose","MenuItem","Link","to","Navigation","appbar","boxShadow","toolbar","title","flexGrow","links","logo","maxHeight","link","textDecoration","content","primary","main","left","bottom","AppBar","Toolbar","src","url","alt","map","key","PageRenderer","observer","page","useEffect","onMount","onUnmount","output","ForgotPassword","Application","wrapper","config","useMemo","pages","filter","menu","canList","auth","user","roleTitles","onForgotPassword","history","push","isLogged","sendAuthRequest","ThemeProvider","CssBaseline","path","render","sendAuthPasswRestore","notifications","Output","utils","DateFnsUtils","logout","AuthProvider","fields","sendAuthRequestInstance","sendAuthRequestCancel","cancel","sendAuthPasswRestoreInstance","sendAuthPasswRestoreCancel","Object","assign","this","token","observable","EMPTY_USER","action","flow","authRequestFn","isLoading","catch","response","error","Error","bind","authPasswRestoreFn","parent","showSuccess","req","args","computed","EMPTY_TOKENS","access","refresh","JWTAuthProvider","tokens","showError","AUTH_ERRORS","CANT_LOGIN","hideNotification","a","Notification","show","message","timeout","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","elevation","severity","Notifications","notification","Config","createMuiTheme","createBrowserHistory","forEach","Page","roles","all","includes","toString","list","update","create","enabled","EntityHeadSortable","children","field","active","onSortChange","direction","TableCell","TableSortLabel","EntityList","loader","data","sortBy","sortDir","canView","canEdit","visibleFields","hideInList","CircularProgress","TableContainer","Table","TableHead","TableRow","sortable","TableBody","entry","i","createElement","getEntityFieldRenderer","options","size","ButtonGroup","RouterLink","FilterText","input","transform","onInput","Filter","ENTITY_FILTER_TYPES","TEXT","formControl","minWidth","select","iconButton","clearFilter","setFilterCurrent","setFilterValue","applyFilter","onChangeField","String","onResetFilter","find","filterableFields","filterable","FormControl","InputLabel","htmlFor","Select","isEditing","handler","tabIndex","EntityHead","marginBottom","filters","canCreate","setFilters","Grid","container","justify","EntityFooter","totalCount","itemsPerPage","items","setPage","setPerPage","onChangeRowsPerPage","parseInt","onChangePage","_","newPage","TablePagination","rowsPerPageOptions","count","labelRowsPerPage","rowsPerPage","EntityViewer","fontFamily","typography","borderBottom","breadcrumbs","errors","entityName","onSave","onResetFieldError","setEditorData","getItem","cancelGetItem","withToken","isCreating","f","hideInEdit","onFieldChange","style","flex","Breadcrumbs","prototype","hasOwnProperty","call","item","Entity","fetchItemsInstance","fetchItemsCancel","updateItemInstance","getItemsCancel","getItemsInstance","reaction","fetchItems","editable","setSort","viewable","ListHead","ListBody","ListFooter","match","params","editorFieldErrors","resetFieldError","editorData","updateItem","createItem","createEmptyItem","Creator","Editor","Viewer","List","method","ENTITY_SORT_DIRS","ASC","DESC","api","fetchItemsFn","ENTITY_ERRORS","CANT_LOAD_ITEMS","result","toJS","validateSubmitFields","INCORRECT_INPUT","updateItemsFn","createItemsFn","reduce","obj","validator","FIELD_IS_REQUIRED","keys","get","getItemsFn","ENTITY_FIELD_RENDERS","string","helperText","date","toISOString","DatePicker","Date","format","inputVariant","boolean","FormControlLabel","control","Checkbox","checked","inputProps","phone","replace","mask","richtext","val","setVal","contentHTML","convertFromHTML","state","ContentState","createFromBlockArray","contentBlocks","entityMap","JSON","stringify","convertToRaw","draftToHtml","getCurrentContent","controls","dangerouslySetInnerHTML","__html","base64image","top","outlinedInput","marginRight","image","backgroundSize","backgroundPosition","innerError","setInnerError","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","loadImage","e","files","maxSize","minSize","allowedMimeType","photo","img","Image","naturalWidth","naturalHeight","minViewBox","maxViewBox","backgroundImage","OutlinedInput","flexDirection","inputComponent","startIcon","accept","mimes","join","Box","SELECT","NUMBER","DATE","CANT_UPDATE_ITEM","host","authRestorePassword","axios","post","authGetTokens","authGetProfile","accessToken","headers","authorization","limit","offset","orderBy","toUpperCase","Authorization","success","isSuccess","put","dataList","RegionSelectField","regions","setRegions","Axios","getRegionsUrl","onRegionChange","region","CitySelectField","cities","setCities","regionId","onCityChange","city","VehicleSelectField","vehicles","setVehicles","getVehiclesUrl","onVehicleChange","vehicle","InquiryStatusField","onInquiryChange","variants","types","c","titles","VEHICLE_INQUIRY_STATUSES","VEHICLE_INQUIRY_STATUS_TITLES","HOST","profile","username","refreshToken","restore","admins","customer","feedback","news","ReactDOM","realConfig","document","getElementById"],"mappings":"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","file":"static/js/main.3e44f230.chunk.js","sourcesContent":["/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nexport * from './auth'\nexport * from './config'\nexport * from './entity'\nexport * from './page'","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme, createStyles } from '@material-ui/core';\n\nexport default (theme: Theme) =>\n  createStyles({\n    wrap: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: '100vh',\n    },\n    paper: {\n      padding: theme.spacing(4),\n    },\n    header: {\n      // color: theme.palette.text,\n      fontSize: '34px',\n      fontWeight: 900,\n    },\n    marginTop: {\n      marginTop: theme.spacing(4),\n    },\n    forgot: {\n      cursor: 'pointer',\n\n      '& > p': {\n        fontSize: '12px',\n        fontWeight: 400,\n        color: theme.palette.text,\n        opacity: 0.7,\n\n        '&:hover': {\n          opacity: 1,\n        },\n      },\n    },\n  });\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, {\n  FC,\n  MouseEventHandler,\n  FormEvent,\n  useCallback,\n  useState,\n} from 'react';\n\nimport {\n  Paper,\n  Typography,\n  TextField,\n  withStyles,\n  InputAdornment,\n  Button,\n  WithStyles,\n  Container,\n} from '@material-ui/core';\n\nimport styles from '../styles';\n\ntype IProps = WithStyles<typeof styles> & {\n  onForgotScreenClick: MouseEventHandler;\n  onSubmit: ({ email, password }: { email: string; password: string }) => void;\n};\n\nconst SignInUnstyled: FC<IProps> = ({\n  classes,\n  onForgotScreenClick,\n  onSubmit,\n}) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onSubmitCapture = useCallback(\n    (event: FormEvent) => {\n      event.preventDefault();\n      onSubmit({ email, password });\n    },\n    [email, password, onSubmit]\n  );\n\n  const onEmailChange = useCallback(event => setEmail(event.target.value), [\n    setEmail,\n  ]);\n\n  const onPasswordChange = useCallback(\n    event => setPassword(event.target.value),\n    [setPassword]\n  );\n\n  return (\n    <div className={classes.wrap}>\n      <Container component=\"main\" maxWidth=\"sm\">\n        <Paper className={classes.paper}>\n          <Typography align=\"center\" component=\"h3\" className={classes.header}>\n            Авторизация\n          </Typography>\n\n          <form noValidate onSubmit={onSubmitCapture}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email\"\n              name=\"email\"\n              className={classes.marginTop}\n              autoComplete=\"email\"\n              defaultValue={email}\n              onChange={onEmailChange}\n              autoFocus\n            />\n\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Пароль\"\n              type=\"password\"\n              id=\"password\"\n              className={classes.marginTop}\n              defaultValue={password}\n              onChange={onPasswordChange}\n              autoComplete=\"current-password\"\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment\n                    position=\"end\"\n                    onClick={onForgotScreenClick}\n                    className={classes.forgot}\n                  >\n                    Забыли пароль?\n                  </InputAdornment>\n                ),\n              }}\n            />\n\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.marginTop}\n              disabled={!email.length || !password.length}\n            >\n              Войти\n            </Button>\n          </form>\n        </Paper>\n      </Container>\n    </div>\n  );\n};\n\nconst SignIn = withStyles(styles, { withTheme: true })(SignInUnstyled);\n\nexport { SignIn };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, useCallback, useState, useRef } from 'react';\nimport {\n  IconButton,\n  WithStyles,\n  withStyles,\n  Menu,\n  MenuItem,\n  Typography,\n} from '@material-ui/core';\n\nimport styles from './styles';\nimport { Link } from 'react-router-dom';\n\ntype IProps = WithStyles<typeof styles> & {\n  email?: string;\n  role?: string;\n  onLogout?: () => void;\n};\n\nconst AccountUnstyled: FC<IProps> = ({ classes, email, role, onLogout }) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  const onMenuOpen = useCallback(() => setIsMenuOpen(true), [setIsMenuOpen]);\n  const onMenuClose = useCallback(() => setIsMenuOpen(false), [setIsMenuOpen]);\n\n  return (\n    <div className={classes.account} ref={ref}>\n      <IconButton\n        aria-label=\"account of current user\"\n        aria-controls=\"menu-appbar\"\n        aria-haspopup=\"true\"\n        onClick={onMenuOpen}\n        color=\"inherit\"\n      >\n        <span className={classes.accountCircle}>\n          {(email && email.charAt(0)) || ''}\n        </span>\n      </IconButton>\n\n      <Menu\n        id=\"menu-appbar\"\n        anchorEl={ref.current}\n        keepMounted\n        open={isMenuOpen}\n        onClose={onMenuClose}\n      >\n        <MenuItem>\n          <div>\n            {email && <Typography component=\"div\">{email}</Typography>}\n            {role && (\n              <Typography\n                component=\"span\"\n                variant=\"caption\"\n                color=\"textSecondary\"\n              >\n                {role}\n              </Typography>\n            )}\n          </div>\n        </MenuItem>\n\n        <MenuItem component={Link} onClick={onLogout} to=\"/logout\">\n          <Typography component=\"span\" color=\"primary\">\n            Выход из аккаунта\n          </Typography>\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nconst Account = withStyles(styles)(AccountUnstyled);\n\nexport { Account };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme, createStyles } from \"@material-ui/core\";\n\nexport default (theme: Theme) => createStyles({\n  account: {\n    paddingLeft: theme.spacing(3),\n    borderLeft: \"1px solid #e1e8ee\",\n    height: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: \"40px\"\n  },\n  accountCircle: {\n    width: \"42px\",\n    height: \"42px\",\n    backgroundColor: \"#f0f0f3\",\n    borderRadius: \"50%\",\n    color: \"#a5b0bf\",\n    fontSize: \"24px\",\n    fontWeight: 400,\n    textTransform: \"uppercase\",\n    lineHeight: \"42px\"\n  },\n});","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC } from 'react';\nimport styles from './styles';\nimport { withStyles, AppBar, Toolbar, WithStyles } from '@material-ui/core';\nimport { Link, NavLink } from 'react-router-dom';\nimport { Account } from '../Account';\n\ntype IProps = WithStyles<typeof styles> & {\n  logo?: { url?: string; title?: string };\n  account?: { email?: string; role?: string };\n  links: { name: string; url: string }[];\n  onLogout?: () => void;\n};\n\nconst NavigationUnstyled: FC<IProps> = ({\n  classes,\n  logo,\n  links,\n  account,\n  onLogout,\n}) => {\n  return (\n    <AppBar position=\"static\" className={classes.appbar}>\n      <Toolbar className={classes.toolbar}>\n        {logo && (\n          <Link to=\"/\" className={classes.title}>\n            <img\n              src={logo.url}\n              title={logo.title}\n              className={classes.logo}\n              alt={logo.title}\n            />\n          </Link>\n        )}\n\n        {links && links.length > 0 && (\n          <div className={classes.links}>\n            {links.map(({ name, url }) => (\n              <NavLink key={name} className={classes.link} to={url}>\n                {name}\n              </NavLink>\n            ))}\n          </div>\n        )}\n\n        {account && (\n          <Account\n            email={account.email}\n            role={account.role}\n            onLogout={onLogout}\n          />\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nconst Navigation = withStyles(styles, { withTheme: true })(NavigationUnstyled);\n\nexport { Navigation };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme, createStyles } from '@material-ui/core';\n\nexport default (theme: Theme) =>\n  createStyles({\n    appbar: {\n      backgroundColor: '#fff',\n      height: '78px',\n      boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',\n    },\n    toolbar: {\n      height: '78px',\n    },\n    title: {\n      // marginLeft: theme.spacing(2),\n      flexGrow: 1,\n    },\n    links: {\n      height: '100%',\n      display: 'flex',\n      alignItems: 'center',\n    },\n    logo: {\n      maxHeight: 54,\n    },\n    link: {\n      color: '#a5b0bf',\n      fontSize: '12px',\n      fontWeight: 500,\n      textTransform: 'uppercase',\n      textDecoration: 'none',\n      padding: '0 16px',\n      position: 'relative',\n\n      '&.active': {\n        color: '#282f36',\n\n        '&::after': {\n          content: '\"\"',\n          position: 'absolute',\n          height: '2px',\n          width: '100%',\n          backgroundColor: theme.palette.primary.main,\n          left: 0,\n          bottom: '-30px',\n        },\n      },\n    },\n  });\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, useEffect } from 'react';\nimport { Page } from '~/application/modules/Page';\nimport { observer } from 'mobx-react';\n\ninterface IProps {\n  page: Page;\n}\n\nconst PageRenderer: FC<IProps> = observer(({ page }) => {\n  useEffect(() => {\n    if (page.onMount) page.onMount(page);\n\n    return () => {\n      if (page.onUnmount) page.onUnmount(page);\n    };\n  }, []);\n\n  return (\n    <div className=\"renderer\">\n      <page.output />\n    </div>\n  );\n});\n\nexport { PageRenderer };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, useCallback, FormEvent, useState } from 'react';\nimport {\n  Typography,\n  Paper,\n  TextField,\n  Button,\n  withStyles,\n  WithStyles,\n  Container,\n} from '@material-ui/core';\n\nimport styles from '../styles';\n\ntype IProps = WithStyles<typeof styles> & {\n  onSubmit?: ({ email }: { email: string }) => void;\n};\n\nconst ForgotPasswordUnstyled: FC<IProps> = ({ classes, onSubmit }) => {\n  const [email, setEmail] = useState('');\n\n  const onEmailChange = useCallback(\n    (event) => {\n      setEmail(event.target.value);\n    },\n    [setEmail]\n  );\n\n  const onSubmitCapture = useCallback(\n    (event: FormEvent) => {\n      event.preventDefault();\n\n      if (!onSubmit) return;\n\n      onSubmit({ email });\n    },\n    [onSubmit, email]\n  );\n\n  return (\n    <div className={classes.wrap}>\n      <Container component=\"main\" maxWidth=\"sm\">\n        <Paper className={classes.paper}>\n          <Typography align=\"center\" component=\"h3\" className={classes.header}>\n            Восстановление пароля\n          </Typography>\n\n          <form noValidate onSubmit={onSubmitCapture}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email\"\n              name=\"email\"\n              className={classes.marginTop}\n              autoComplete=\"email\"\n              defaultValue={email}\n              onChange={onEmailChange}\n              autoFocus\n            />\n\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.marginTop}\n              disabled={!email.length}\n            >\n              Восстановить\n            </Button>\n          </form>\n        </Paper>\n      </Container>\n    </div>\n  );\n};\n\nconst ForgotPassword = withStyles(styles, { withTheme: true })(\n  ForgotPasswordUnstyled\n);\n\nexport { ForgotPassword };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { useMemo, Fragment, useCallback } from 'react';\nimport { Config } from '../Config';\nimport { observer } from 'mobx-react';\nimport { Switch, Route, Redirect, Router } from 'react-router-dom';\nimport { SignIn } from '~/containers/login/SignIn';\nimport { Navigation } from '~/containers/layout/Navigation';\nimport { PageRenderer } from '../PageRenderer';\nimport {\n  Container,\n  WithStyles,\n  withStyles,\n  CssBaseline,\n  ThemeProvider,\n} from '@material-ui/core';\nimport styles from './styles';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { ForgotPassword } from '~/containers/login/ForgotPassword';\n\ntype IProps = WithStyles<typeof styles> & {\n  config: Config;\n};\n\nconst Application = withStyles(styles)(\n  observer(({ classes, config }: IProps) => {\n    const links = useMemo(\n      () =>\n        config.pages\n          .filter((page) => page?.menu?.url && page.canList)\n          .map((page) => ({\n            name: page.menu.label,\n            url: page.menu.url,\n          })),\n      [config.pages, config.auth?.user?.role]\n    );\n\n    const role = useMemo(\n      () =>\n        (config.auth?.roleTitles &&\n          config.auth?.user?.role &&\n          config.auth?.roleTitles[config.auth?.user?.role]) ||\n        config.auth?.user?.role,\n      [config.auth?.roleTitles, config.auth?.user?.role]\n    );\n\n    const onForgotPassword = useCallback(() => {\n      config.history.push('/restore');\n    }, [config.history]);\n\n    if (!config.auth?.isLogged && config.auth?.sendAuthRequest) {\n      return (\n        <ThemeProvider theme={config.theme}>\n          <CssBaseline />\n\n          <Router history={config.history}>\n            <Switch>\n              <Route\n                path=\"/restore\"\n                render={() => (\n                  <ForgotPassword\n                    onSubmit={config.auth?.sendAuthPasswRestore}\n                  />\n                )}\n              />\n\n              <SignIn\n                onSubmit={config.auth.sendAuthRequest}\n                onForgotScreenClick={onForgotPassword}\n              />\n            </Switch>\n          </Router>\n\n          <config.notifications.Output />\n        </ThemeProvider>\n      );\n    }\n\n    return (\n      <ThemeProvider theme={config.theme}>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <CssBaseline />\n\n          <Router history={config.history}>\n            <Navigation\n              links={links}\n              logo={{ url: config.logo, title: config.title }}\n              account={{\n                email: config.auth?.user?.email || '',\n                role,\n              }}\n              onLogout={config.auth?.logout}\n            />\n\n            <Container maxWidth=\"xl\" className={classes.wrapper}>\n              <Switch>\n                {config.pages\n                  .filter((page) => page?.menu?.url)\n                  .map((page) => (\n                    <Route\n                      path={page.menu.url}\n                      render={() => <PageRenderer page={page} />}\n                      key={page.menu.url}\n                    />\n                  ))}\n                {links.length > 0 && <Redirect to={links[0].url} />}\n              </Switch>\n            </Container>\n          </Router>\n\n          <config.notifications.Output />\n        </MuiPickersUtilsProvider>\n      </ThemeProvider>\n    );\n  })\n);\n\nexport { Application };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme } from '@material-ui/core';\n\nexport default (theme: Theme) => ({\n  wrapper: {\n    marginTop: theme.spacing(4),\n  },\n});\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\n// import React from 'react';\nimport { EMPTY_USER, IAuthProviderProps } from '~/application/types/auth';\nimport { computed, observable, action } from 'mobx';\nimport { flow } from 'mobx';\nimport { CancellablePromise } from 'mobx/lib/api/flow';\nimport { Config } from '../Config';\n\nexport class AuthProvider {\n  // From props\n  @observable parent?: Config;\n  @observable user: IAuthProviderProps['user'] = EMPTY_USER;\n  @observable authRequestFn?: IAuthProviderProps['authRequestFn'];\n  @observable authPasswRestoreFn?: IAuthProviderProps['authPasswRestoreFn'];\n  @observable roleTitles?: Record<any, string>;\n\n  constructor(fields?: Partial<IAuthProviderProps>) {\n    if (fields) {\n      Object.assign(this, fields);\n    }\n  }\n\n  // Built-in\n  @observable isLoading: boolean = false;\n  @observable error: string = '';\n\n  sendAuthRequestInstance?: CancellablePromise<any>;\n\n  @action\n  sendAuthRequest = ({\n    email,\n    password,\n  }: {\n    email: string;\n    password: string;\n  }) => {\n    this.sendAuthRequestCancel();\n\n    this.sendAuthRequestInstance = flow(function* sendAuthRequest(\n      this: AuthProvider\n    ) {\n      if (!this.authRequestFn) return;\n\n      this.isLoading = true;\n\n      try {\n        const response = yield this.authRequestFn(email, password).catch(\n          () => null\n        );\n\n        if (!response || response.error) {\n          throw new Error(response.error);\n        }\n\n        this.user = response.user;\n      } catch (e) {\n        this.error = e;\n      } finally {\n        this.isLoading = false;\n      }\n    }).bind(this)();\n  };\n\n  sendAuthRequestCancel = () => {\n    if (this.sendAuthRequestInstance && this.sendAuthRequestInstance.cancel) {\n      this.sendAuthRequestInstance.cancel();\n    }\n  };\n\n  sendAuthPasswRestoreInstance?: CancellablePromise<any>;\n\n  @action\n  sendAuthPasswRestore = ({ email }: { email: string }) => {\n    this.sendAuthPasswRestoreCancel();\n\n    this.sendAuthPasswRestoreInstance = flow(function* sendAuthPasswRestore(\n      this: AuthProvider\n    ) {\n      if (!this.authPasswRestoreFn) return;\n\n      this.isLoading = true;\n\n      try {\n        const response = yield this.authPasswRestoreFn(email).catch(() => null);\n\n        if (!response || response.error) {\n          throw new Error(response.error);\n        }\n\n        this.parent?.notifications.showSuccess('Check your email');\n        this.parent?.history.push('/');\n      } catch (e) {\n        this.error = e;\n      } finally {\n        this.isLoading = false;\n      }\n    }).bind(this)();\n  };\n\n  sendAuthPasswRestoreCancel = () => {\n    if (\n      this.sendAuthPasswRestoreInstance &&\n      this.sendAuthPasswRestoreInstance.cancel\n    ) {\n      this.sendAuthPasswRestoreInstance.cancel();\n    }\n  };\n\n  @action\n  logout = () => {\n    this.user = EMPTY_USER;\n  };\n\n  @observable\n  withToken = (req: any, args: any) => {\n    return req({ ...args, token: this.user.token });\n  };\n\n  @computed\n  get isLogged() {\n    return !!this.user.token;\n  }\n}\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\n// import React from 'react';\nimport {\n  EMPTY_USER,\n  IAuthProviderProps,\n  AUTH_ERRORS,\n} from '~/application/types/auth';\nimport { computed, observable, action } from 'mobx';\nimport { flow } from 'mobx';\nimport { AuthProvider } from '../AuthProvider';\nimport { Unwrap } from '~/application/types/common';\n\nconst EMPTY_TOKENS = {\n  access: '',\n  refresh: '',\n};\n\nexport class JWTAuthProvider extends AuthProvider {\n  @observable tokens: Record<string, string> = EMPTY_TOKENS;\n  @observable authRequestFn?: (\n    email: string,\n    password: string\n  ) => Promise<{\n    user: IAuthProviderProps['user'];\n    tokens: Record<string, string>;\n    error: string;\n  }>;\n\n  constructor(fields?: Partial<IAuthProviderProps>) {\n    super(fields);\n  }\n\n  @action\n  sendAuthRequest = ({\n    email,\n    password,\n  }: {\n    email: string;\n    password: string;\n  }) => {\n    this.sendAuthRequestCancel();\n\n    this.sendAuthRequestInstance = flow(function* sendAuthRequest(\n      this: JWTAuthProvider\n    ) {\n      if (!this.authRequestFn) return;\n\n      this.isLoading = true;\n\n      try {\n        const response: Unwrap<typeof this.authRequestFn> = yield this.authRequestFn(\n          email,\n          password\n        );\n\n        if (!response || response.error) {\n          this.parent?.notifications.showError(\n            response?.error || AUTH_ERRORS.CANT_LOGIN\n          );\n          throw new Error(response?.error);\n        }\n\n        this.parent?.notifications.hideNotification();\n        this.user = response.user;\n        this.tokens = response.tokens;\n      } catch (e) {\n        this.error = e;\n      } finally {\n        this.isLoading = false;\n      }\n    }).bind(this)();\n  };\n\n  sendAuthRequestCancel = () => {\n    if (this.sendAuthRequestInstance && this.sendAuthRequestInstance.cancel) {\n      this.sendAuthRequestInstance.cancel();\n    }\n  };\n\n  @action\n  logout = () => {\n    this.user = EMPTY_USER;\n    this.tokens = EMPTY_TOKENS;\n  };\n\n  @observable\n  withToken = async (req: any, args: any) => {\n    return req({ ...args, token: `Bearer ${this.tokens.access}` });\n  };\n\n  @computed\n  get isLogged() {\n    return !!this.tokens.access;\n  }\n}\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, useCallback } from 'react';\nimport { Snackbar } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { INotification } from '~/application/types/notification';\n\ninterface IProps {\n  hideNotification: () => void;\n  show: INotification['show'];\n  type: INotification['type'];\n  message: INotification['message'];\n  timeout: INotification['timeout'];\n}\n\nconst Notification: FC<IProps> = ({\n  hideNotification,\n  show,\n  type,\n  message,\n  timeout,\n}) => {\n  const onClose = useCallback(\n    (...args) => {\n      hideNotification();\n    },\n    [hideNotification]\n  );\n\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      key=\"bottom,left\"\n      open={show}\n      onClose={onClose}\n      autoHideDuration={timeout}\n    >\n      <Alert\n        elevation={6}\n        variant=\"filled\"\n        onClose={onClose}\n        severity={type || 'info'}\n      >\n        {message}\n      </Alert>\n    </Snackbar>\n  );\n};\n\nexport { Notification };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React from 'react';\nimport { observable, action, reaction, computed } from 'mobx';\nimport { INotification } from '~/application/types/notification';\nimport { observer } from 'mobx-react';\nimport { Notification } from '~/containers/login/Notification';\n\nexport class Notifications {\n  @observable notification: INotification = {\n    show: false,\n    message: '',\n    type: 'info',\n    timeout: 6000,\n  };\n\n  @action\n  hideNotification = () => {\n    this.notification.show = false;\n  };\n\n  @action\n  showError = (message: INotification['message']) => {\n    this.notification.show = true;\n    this.notification.message = message;\n    this.notification.type = 'error';\n  };\n\n  @action\n  showSuccess = (message: INotification['message']) => {\n    this.notification.show = true;\n    this.notification.message = message;\n    this.notification.type = 'success';\n  };\n\n  @computed\n  get Output() {\n    return observer(() => (\n      <Notification\n        hideNotification={this.hideNotification}\n        message={this.notification.message}\n        type={this.notification.type}\n        timeout={this.notification.timeout}\n        show={this.notification.show}\n      />\n    ));\n  }\n}\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { IConfigProps } from '~/application/types/config';\nimport { Theme, createMuiTheme } from '@material-ui/core';\nimport { createBrowserHistory } from 'history';\nimport { Notifications } from '../Notification';\n\nexport class Config {\n  name: IConfigProps['name'] = '';\n  pages: IConfigProps['pages'] = [];\n  auth?: IConfigProps['auth'];\n  logo?: IConfigProps['logo'];\n  title?: IConfigProps['title'];\n  theme: Theme = createMuiTheme({});\n  history = createBrowserHistory();\n  notifications = new Notifications();\n\n  constructor(fields?: Partial<IConfigProps>) {\n    if (fields) {\n      Object.assign(this, fields);\n    }\n\n    if (this.pages.length) {\n      this.pages.forEach((page) => {\n        page.parent = this;\n      });\n    }\n\n    if (this.auth) {\n      this.auth.parent = this;\n    }\n  }\n}\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React from 'react';\nimport { IPageProps } from '~/application/types/page';\nimport { observable, computed, action, toJS } from 'mobx';\nimport { observer } from 'mobx-react';\n\nexport class Page {\n  @observable title: IPageProps['title'] = '';\n  @observable menu: IPageProps['menu'] = { enabled: true, label: '', url: '' };\n  @observable parent?: IPageProps['parent'];\n  @observable roles?: IPageProps['roles'];\n\n  constructor(fields?: Partial<IPageProps>) {\n    if (fields) {\n      Object.assign(this, fields);\n    }\n  }\n\n  @action\n  onMount: (page: Page) => void = () => {};\n\n  @action\n  onUnmount: (page: Page) => void = () => {};\n\n  @computed\n  get canList() {\n    return !!(\n      !this.roles ||\n      (this.parent?.auth?.user?.role &&\n        (this.roles?.all?.includes(this.parent.auth?.user?.role.toString()) ||\n          this.roles?.list?.includes(this.parent.auth?.user?.role.toString())))\n    );\n  }\n\n  @computed\n  get canEdit() {\n    return !!(\n      !this.roles ||\n      (this.parent?.auth?.user?.role &&\n        (this.roles?.all?.includes(this.parent.auth?.user?.role.toString()) ||\n          this.roles?.update?.includes(\n            this.parent.auth?.user?.role.toString()\n          )))\n    );\n  }\n\n  @computed\n  get canCreate() {\n    return !!(\n      !this.roles ||\n      (this.parent?.auth?.user?.role &&\n        (this.roles?.all?.includes(this.parent.auth?.user?.role.toString()) ||\n          this.roles?.create?.includes(\n            this.parent.auth?.user?.role.toString()\n          )))\n    );\n  }\n\n  @computed\n  get output() {\n    return observer(() => (\n      <div>\n        <h1>{this.title}</h1>\n        <div>You can override this class to make your own cool entity</div>\n      </div>\n    ));\n  }\n}\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, HTMLAttributes, useCallback } from 'react';\nimport { TableCell, TableSortLabel } from '@material-ui/core';\nimport { ENTITY_SORT_DIRS } from '~/application';\n\ntype IProps = HTMLAttributes<HTMLDivElement> & {\n  field: string;\n  active?: boolean;\n  direction?: typeof ENTITY_SORT_DIRS[keyof typeof ENTITY_SORT_DIRS];\n  onSortChange: (field: string) => void;\n};\n\nconst EntityHeadSortable: FC<IProps> = ({\n  children,\n  field,\n  active,\n  onSortChange,\n  direction,\n}) => {\n  const onClick = useCallback(() => onSortChange(field), [field, onSortChange]);\n\n  return (\n    <TableCell>\n      <TableSortLabel active={active} direction={direction} onClick={onClick}>\n        {children}\n      </TableSortLabel>\n    </TableCell>\n  );\n};\n\nexport { EntityHeadSortable };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { createElement, useMemo } from 'react';\nimport {\n  TableContainer,\n  Table,\n  TableCell,\n  TableHead,\n  TableRow,\n  TableBody,\n  Paper,\n  CircularProgress,\n  Button,\n  ButtonGroup,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core';\nimport {\n  IEntityField,\n  getEntityFieldRenderer,\n  ENTITY_SORT_DIRS,\n} from '~/application/';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { EntityHeadSortable } from '~/components/pages/EntityHeadSortable';\nimport styles from './styles';\n\ntype IProps = WithStyles<typeof styles> & {\n  isLoading: boolean;\n  fields: IEntityField[];\n  data: Record<string, string>[];\n  url: string;\n  sortBy: string;\n  sortDir: typeof ENTITY_SORT_DIRS[keyof typeof ENTITY_SORT_DIRS];\n  canView: boolean;\n  canEdit: boolean;\n  onSortChange: (field: string) => void;\n};\n\nconst EntityList = withStyles(styles)(\n  ({\n    classes,\n    isLoading,\n    fields,\n    data,\n    url,\n    sortBy,\n    sortDir,\n    canView,\n    canEdit,\n    onSortChange,\n  }: IProps) => {\n    const visibleFields = useMemo(\n      () => fields.filter((field) => !field.hideInList),\n      [fields]\n    );\n\n    if (isLoading) {\n      return (\n        <div className={classes.loader}>\n          <CircularProgress />\n        </div>\n      );\n    }\n\n    return (\n      <Paper>\n        <TableContainer>\n          <Table>\n            <TableHead>\n              <TableRow>\n                {visibleFields.map((field) =>\n                  field.sortable ? (\n                    <EntityHeadSortable\n                      active={sortBy === field.name}\n                      direction={sortDir}\n                      key={field.name}\n                      field={field.name}\n                      onSortChange={onSortChange}\n                    >\n                      <b>{field.label || field.name}</b>\n                    </EntityHeadSortable>\n                  ) : (\n                    <TableCell key={field.name}>\n                      <b>{field.label || field.name}</b>\n                    </TableCell>\n                  )\n                )}\n                {(canView || canEdit) && <TableCell />}\n              </TableRow>\n            </TableHead>\n\n            <TableBody>\n              {data.map((entry, i) => (\n                <TableRow key={i}>\n                  {visibleFields.map((field) => (\n                    <TableCell key={field.name}>\n                      {createElement(\n                        getEntityFieldRenderer(\n                          field.type || typeof entry[field.name]\n                        ),\n                        {\n                          label: field.label || field.name,\n                          value: entry[field.name],\n                          options: field.options || {},\n                        }\n                      )}\n                    </TableCell>\n                  ))}\n                  {(canEdit || canView) && (\n                    <TableCell size=\"small\" align=\"right\">\n                      <ButtonGroup variant=\"text\">\n                        {canEdit && (\n                          <Button\n                            to={`${url}/${entry.id}/edit`}\n                            component={RouterLink}\n                          >\n                            <EditIcon />\n                          </Button>\n                        )}\n                        {canView && (\n                          <Button\n                            to={`${url}/${entry.id}/`}\n                            component={RouterLink}\n                          >\n                            <VisibilityIcon />\n                          </Button>\n                        )}\n                      </ButtonGroup>\n                    </TableCell>\n                  )}\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    );\n  }\n);\n\nexport { EntityList };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme } from '@material-ui/core';\n\nexport default (theme: Theme) => ({\n  loader: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    minHeight: 200,\n  },\n});\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { useCallback } from 'react';\nimport { TextField, WithStyles, withStyles } from '@material-ui/core';\nimport styles from './styles';\n\ntype IProps = WithStyles<typeof styles> & {\n  label: string;\n  value: any;\n  onChange: (val: any) => void;\n} & Record<string, any>;\n\nconst FilterText = withStyles(styles)(\n  ({ classes, label, value, onChange }: IProps) => {\n    const onInput = useCallback(event => onChange(event.target.value), [\n      onChange,\n    ]);\n\n    return (\n      <TextField\n        onChange={onInput}\n        value={value}\n        name=\"field\"\n        label={label}\n        variant=\"outlined\"\n        className={classes.input}\n        autoFocus\n      />\n    );\n  }\n);\n\nexport { FilterText };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme } from '@material-ui/core';\n\nexport default (theme: Theme) => ({\n  input: {\n    '& input': {\n      padding: '10px 14px 7px',\n    },\n    '& label': {\n      transform: 'translate(10px, 12px) scale(0.9)',\n    },\n  },\n});\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, {\n  ChangeEvent,\n  useCallback,\n  Fragment,\n  useMemo,\n  createElement,\n} from 'react';\n\nimport {\n  withStyles,\n  WithStyles,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  IconButton,\n} from '@material-ui/core';\n\nimport styles from './styles';\nimport {\n  ENTITY_FILTER_TYPES,\n  IEntityProps,\n  getEntityFieldRenderer,\n} from '~/application/types/entity';\nimport { FilterText } from '../FilterText';\nimport CheckIcon from '@material-ui/icons/Check';\nimport ClearIcon from '@material-ui/icons/Clear';\n\ntype IProps = WithStyles<typeof styles> & {\n  current: string;\n  value: any;\n  fields: IEntityProps['fields'];\n\n  clearFilter: () => void;\n  applyFilter: () => void;\n  setFilterCurrent: (current: string) => void;\n  setFilterValue: (value: any) => void;\n};\n\nconst FILTER_RENDERERS = {\n  [ENTITY_FILTER_TYPES.TEXT]: FilterText,\n};\n\nconst Filter = withStyles(styles)(\n  ({\n    classes,\n    current,\n    value,\n    fields,\n    clearFilter,\n    setFilterCurrent,\n    setFilterValue,\n    applyFilter,\n  }: IProps) => {\n    const onChangeField = useCallback(\n      (event: ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\n        setFilterCurrent(String(event.target.value));\n      },\n      [setFilterCurrent]\n    );\n\n    const onResetFilter = useCallback(() => {\n      clearFilter();\n    }, [clearFilter]);\n\n    const field = useMemo(\n      () => (current && fields.find((field) => field.name === current)) || null,\n      [fields, current]\n    );\n\n    const filterableFields = useMemo(\n      () => fields.filter((field) => field.filterable),\n      [fields]\n    );\n\n    const onSubmit = useCallback(\n      (event) => {\n        event.preventDefault();\n        applyFilter();\n      },\n      [applyFilter]\n    );\n\n    if (!filterableFields.length) {\n      return null;\n    }\n\n    return (\n      <form className={classes.wrapper} onSubmit={onSubmit}>\n        <FormControl variant=\"outlined\" className={classes.formControl}>\n          <InputLabel htmlFor=\"field\" className={classes.label}>\n            Фильтр\n          </InputLabel>\n\n          <Select\n            variant=\"outlined\"\n            id=\"field\"\n            name=\"field\"\n            label=\"Фильтр\"\n            value={current}\n            onChange={onChangeField}\n            className={classes.select}\n          >\n            <MenuItem value=\"\">...</MenuItem>\n\n            {filterableFields.map((field) => (\n              <MenuItem key={field.name} value={field.name}>\n                {field.label || field.name}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        {field && (\n          <Fragment>\n            <div className={classes.input}>\n              {createElement(getEntityFieldRenderer(field.type), {\n                value,\n                label: field.label || field.name,\n                isEditing: true,\n                handler: setFilterValue,\n                options: field.options || {},\n              })}\n            </div>\n\n            <IconButton\n              color=\"secondary\"\n              onClick={onResetFilter}\n              className={classes.iconButton}\n              tabIndex={0}\n            >\n              <ClearIcon />\n            </IconButton>\n\n            <IconButton\n              disabled={!value}\n              color=\"primary\"\n              onClick={applyFilter}\n              className={classes.iconButton}\n              tabIndex={0}\n            >\n              <CheckIcon />\n            </IconButton>\n          </Fragment>\n        )}\n      </form>\n    );\n  }\n);\n\nexport { Filter };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme } from '@material-ui/core';\n\nexport default (theme: Theme) => ({\n  wrapper: {\n    height: '36px',\n    display: 'flex',\n  },\n  formControl: {\n    margin: `0 ${theme.spacing(1)}px 0 0`,\n    minWidth: 120,\n  },\n  select: {\n    '& > div': {\n      padding: '10px 14px 7px',\n    },\n  },\n  input: {\n    '& .select': {\n      padding: '10px 34px 7px 14px',\n    },\n    '& input': {\n      padding: '10px 14px 7px',\n    },\n    '& label': {\n      transform: 'translate(10px, 12px) scale(0.9)',\n    },\n  },\n  label: {\n    transform: 'translate(10px, 12px) scale(0.9)',\n  },\n  iconButton: {\n    height: '36px',\n    width: '36px',\n    padding: 0,\n  },\n});\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, useCallback } from 'react';\nimport {\n  Typography,\n  withStyles,\n  WithStyles,\n  Grid,\n  Button,\n} from '@material-ui/core';\nimport styles from './styles';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { IEntityProps } from '~/application';\nimport { Filter } from '~/components/pages/Filter';\n\ntype IProps = WithStyles<typeof styles> & {\n  title: string;\n  canCreate: boolean;\n  url: string;\n  filters: IEntityProps['filters'];\n  fields: IEntityProps['fields'];\n  setFilters: (filters: IEntityProps['filters']) => void;\n  applyFilter: () => void;\n};\n\nconst EntityHeadUnstyled: FC<IProps> = ({\n  classes,\n  title,\n  filters,\n  fields,\n  canCreate,\n  url,\n\n  setFilters,\n  applyFilter,\n}) => {\n  const setFilterCurrent = useCallback(\n    (current: string) => {\n      setFilters({ ...filters, current, value: null });\n\n      if (current === '') {\n        applyFilter();\n      }\n    },\n    [setFilters, applyFilter, filters]\n  );\n\n  const setFilterValue = useCallback(\n    (value: string) => setFilters({ ...filters, value }),\n    [setFilters, filters]\n  );\n\n  const clearFilter = useCallback(() => {\n    setFilters({ ...filters, current: '', value: '' });\n    applyFilter();\n  }, [setFilters, filters, applyFilter]);\n\n  return (\n    <Grid\n      container\n      justify=\"space-between\"\n      alignItems=\"flex-end\"\n      className={classes.header}\n    >\n      <Typography component=\"h3\" className={classes.title}>\n        {title}\n      </Typography>\n\n      {filters && (\n        <Filter\n          current={filters.current}\n          value={filters.value}\n          fields={fields}\n          clearFilter={clearFilter}\n          setFilterCurrent={setFilterCurrent}\n          setFilterValue={setFilterValue}\n          applyFilter={applyFilter}\n        />\n      )}\n\n      {canCreate && url && (\n        <Button\n          type=\"button\"\n          variant=\"contained\"\n          color=\"primary\"\n          component={RouterLink}\n          to={`${url}/create`}\n        >\n          Создать\n        </Button>\n      )}\n    </Grid>\n  );\n};\n\nconst EntityHead = withStyles(styles)(EntityHeadUnstyled);\nexport { EntityHead };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme } from '@material-ui/core';\n\nexport default (theme: Theme) => ({\n  header: {\n    marginBottom: theme.spacing(2),\n  },\n  title: {\n    color: '#282f36',\n    fontSize: '34px',\n    fontWeight: 900,\n    flexGrow: 1,\n  },\n});\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, useCallback } from 'react';\nimport { Paper, TablePagination } from '@material-ui/core';\n\ninterface IProps {\n  itemsPerPage: number[];\n  items: number;\n  totalCount: number;\n  page: number;\n  setPage: (count: number) => void;\n  setPerPage: (count: number) => void;\n}\n\nconst EntityFooter: FC<IProps> = ({\n  totalCount,\n  page,\n  itemsPerPage,\n  items,\n  setPage,\n  setPerPage,\n}) => {\n  const onChangeRowsPerPage = useCallback(\n    (event) => setPerPage(parseInt(event.target.value)),\n    [setPerPage]\n  );\n\n  const onChangePage = useCallback((_, newPage) => setPage(newPage), [setPage]);\n\n  return (\n    <TablePagination\n      rowsPerPageOptions={itemsPerPage}\n      component=\"div\"\n      count={totalCount}\n      labelRowsPerPage=\"На странице:\"\n      rowsPerPage={items}\n      page={page}\n      onChangePage={onChangePage}\n      onChangeRowsPerPage={onChangeRowsPerPage}\n    />\n  );\n};\n\nexport { EntityFooter };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { useMemo, createElement, useEffect, useCallback } from 'react';\n\nimport {\n  Breadcrumbs,\n  Typography,\n  withStyles,\n  WithStyles,\n  Link,\n  Paper,\n  Grid,\n  Button,\n  CircularProgress,\n} from '@material-ui/core';\n\nimport styles from './styles';\nimport { IEntityField, getEntityFieldRenderer } from '~/application';\nimport { observer } from 'mobx-react';\nimport { Link as RouterLink } from 'react-router-dom';\n\ntype IProps = WithStyles<typeof styles> & {\n  url: string;\n  entityName: string;\n  id?: string;\n  fields: IEntityField[];\n  errors: Record<string, string>;\n  isEditing: boolean;\n  isLoading: boolean;\n  data: Record<string, any>;\n\n  setEditorData: (data: Record<string, any>) => void;\n  getItem: (id: any) => void;\n  cancelGetItem: () => void;\n  onSave: () => void;\n  onResetFieldError: (field: string) => void;\n  withToken?: (req: any, args: any) => any;\n};\n\nconst EntityViewer = withStyles(styles)(\n  observer(\n    ({\n      classes,\n      id,\n      fields,\n      errors,\n      url,\n      isEditing,\n      entityName,\n      onSave,\n      onResetFieldError,\n      isLoading,\n      data,\n      setEditorData,\n      getItem,\n      cancelGetItem,\n      withToken,\n    }: IProps) => {\n      const isCreating = useMemo(() => typeof id === 'undefined', [id]);\n\n      const title = useMemo(() => {\n        const field = fields.find((f) => f.title);\n        return data && field && field.name ? data[field.name] : id;\n      }, [data, fields, id]);\n\n      const visibleFields = useMemo(\n        () => fields.filter((field) => !field.hideInEdit),\n        [fields]\n      );\n\n      const onFieldChange = useCallback(\n        (f) => (value: any) => {\n          if (errors[f]) {\n            onResetFieldError(f);\n          }\n\n          setEditorData({ ...data, [f]: value });\n        },\n        [data, setEditorData, errors]\n      );\n\n      const onSubmit = useCallback(\n        (event) => {\n          event.preventDefault();\n          onSave();\n        },\n        [onSave]\n      );\n\n      useEffect(() => {\n        getItem(id);\n\n        return () => cancelGetItem();\n      }, [id]);\n\n      if (isLoading) {\n        return (\n          <div className={classes.loader}>\n            <CircularProgress />\n          </div>\n        );\n      }\n\n      return (\n        <div className={classes.wrap}>\n          <div className={classes.breadcrumbs}>\n            <Grid container alignItems=\"center\">\n              <Grid style={{ flex: 1 }}>\n                <Breadcrumbs aria-label=\"breadcrumb\">\n                  {entityName && (\n                    <Link color=\"inherit\" to={url} component={RouterLink}>\n                      {entityName}\n                    </Link>\n                  )}\n\n                  {isEditing && !isCreating && !!title && (\n                    <Link\n                      color=\"inherit\"\n                      to={`${url}/${id}`}\n                      component={RouterLink}\n                    >\n                      {title}\n                    </Link>\n                  )}\n\n                  {!isEditing && !isCreating && (\n                    <Typography color=\"textPrimary\">{title}</Typography>\n                  )}\n\n                  {isEditing && !isCreating && (\n                    <Typography color=\"textPrimary\">Редактирование</Typography>\n                  )}\n\n                  {isEditing && isCreating && (\n                    <Typography color=\"textPrimary\">Создание</Typography>\n                  )}\n                </Breadcrumbs>\n              </Grid>\n\n              {!isEditing && (\n                <Button\n                  to={`${url}/${id}/edit`}\n                  component={RouterLink}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  type=\"button\"\n                >\n                  Редактировать\n                </Button>\n              )}\n            </Grid>\n          </div>\n\n          {data && (\n            <form onSubmit={onSubmit}>\n              <Paper>\n                {visibleFields.map((field) => (\n                  <div className={classes.field} key={field.name}>\n                    {!isEditing && (\n                      <div className=\"label\">\n                        {field.label || field.name}\n                        {isEditing && field.required && <span>{` *`}</span>}\n                      </div>\n                    )}\n                    <div className=\"field\">\n                      {createElement(\n                        field.type === 'custom' && field.component\n                          ? field.component\n                          : getEntityFieldRenderer(\n                              field.type || typeof data[field.name]\n                            ),\n                        {\n                          value: Object.prototype.hasOwnProperty.call(\n                            data,\n                            field.name\n                          )\n                            ? data[field.name]\n                            : null,\n                          label: field.label || field.name,\n                          error: errors[field.name],\n                          isEditing,\n                          handler: onFieldChange(field.name),\n                          options: field.options || {},\n                          data, // for custom fields\n                          fields, // for custom fields\n                          withToken, // for custom fields\n                        }\n                      )}\n                    </div>\n                  </div>\n                ))}\n\n                {isEditing && (\n                  <div className={classes.field}>\n                    <Grid container spacing={1}>\n                      <Grid item style={{ flex: 1 }} />\n\n                      <Grid item>\n                        <Button\n                          type=\"submit\"\n                          color=\"default\"\n                          variant=\"outlined\"\n                          to={isCreating ? url : `${url}/${id}`}\n                          component={RouterLink}\n                        >\n                          Отмена\n                        </Button>\n                      </Grid>\n\n                      <Grid item>\n                        <Button\n                          type=\"submit\"\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          Сохранить\n                        </Button>\n                      </Grid>\n                    </Grid>\n                  </div>\n                )}\n              </Paper>\n            </form>\n          )}\n        </div>\n      );\n    }\n  )\n);\n\nexport { EntityViewer };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme } from '@material-ui/core';\n\nexport default (theme: Theme) => ({\n  wrap: {\n    marginBottom: theme.spacing(4),\n  },\n  field: {\n    color: '#282f36',\n    fontSize: '17px',\n    fontWeight: 400,\n    fontFamily: theme.typography.fontFamily,\n    padding: `${theme.spacing(4)}px ${theme.spacing(3)}px`,\n    borderBottom: '1px solid #e1e8ee',\n    '& > .label': {\n      display: 'block',\n      color: '#a5b0bf',\n      fontSize: '14px',\n    },\n    '& > .field': {\n      marginTop: theme.spacing(1),\n      display: 'block',\n    },\n  },\n  breadcrumbs: {\n    marginBottom: theme.spacing(2),\n    height: 36,\n    alignItems: 'center',\n    display: 'flex',\n  },\n  loader: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    minHeight: 200,\n  },\n});\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React from 'react';\nimport {\n  IEntityProps,\n  ENTITY_ERRORS,\n  ENTITY_SORT_DIRS,\n} from '~/application/types/entity';\nimport { Page } from '~/application/modules/Page';\nimport { EntityList } from '../../../containers/pages/EntityList';\nimport { EntityHead } from '../../../containers/pages/EntityHead';\nimport { EntityFooter } from '../../../containers/pages/EntityFooter';\nimport { computed, observable, action, reaction, flow, toJS } from 'mobx';\nimport { CancellablePromise } from 'mobx/lib/api/flow';\nimport { Switch, Route, RouteComponentProps } from 'react-router-dom';\nimport { observer } from 'mobx-react';\nimport { EntityViewer } from '../../../containers/pages/EntityViewer';\nimport { Unwrap } from '~/application/types/common';\n\nexport class Entity extends Page {\n  // Props\n  @observable api: IEntityProps['api'] = {\n    list: { url: '/', method: 'get' },\n  };\n  @observable fields: IEntityProps['fields'] = [];\n  @observable filters: IEntityProps['filters'] = {\n    current: '',\n    value: '',\n  };\n  @observable editable: IEntityProps['editable'] = false;\n  @observable viewable: IEntityProps['viewable'] = false;\n  @observable fetchItemsFn: IEntityProps['fetchItemsFn'] = undefined;\n  @observable updateItemsFn: IEntityProps['updateItemsFn'] = undefined;\n  @observable createItemsFn: IEntityProps['createItemsFn'] = undefined;\n  @observable getItemsFn: IEntityProps['getItemsFn'] = undefined;\n\n  // Built-in\n  @observable isLoading: boolean = true;\n  @observable itemsPerPage: number[] = [5, 10, 15, 25, 50];\n  @observable items: number = this.itemsPerPage[this.itemsPerPage.length] || 50;\n  @observable totalCount: number = 0;\n  @observable page: number = 0;\n  @observable data: Record<string, any>[] = [];\n  @observable error?: string | null;\n  @observable sortBy: string = '';\n  @observable sortDir: typeof ENTITY_SORT_DIRS[keyof typeof ENTITY_SORT_DIRS] =\n    ENTITY_SORT_DIRS.ASC;\n  @observable editorFieldErrors: Record<string, string> = {};\n  @observable editorData: Record<string, any> = {};\n\n  constructor(fields?: Partial<IEntityProps>) {\n    super();\n\n    if (fields) {\n      Object.assign(this, fields);\n    }\n\n    reaction(\n      () => [this.page, this.items, this.sortBy, this.sortDir],\n      this.fetchItems\n    );\n  }\n\n  @action\n  setFilters = (filters: IEntityProps['filters']) => {\n    this.filters = filters;\n  };\n\n  @action\n  setPage = (page: number) => {\n    this.page = page;\n  };\n\n  @action\n  setPerPage = (items: number) => {\n    this.items = items;\n  };\n\n  @action\n  setSort = (field: string) => {\n    if (field !== this.sortBy && this.sortDir !== ENTITY_SORT_DIRS.ASC) {\n      this.sortDir = ENTITY_SORT_DIRS.ASC;\n    }\n\n    if (field === this.sortBy) {\n      this.sortDir =\n        this.sortDir === ENTITY_SORT_DIRS.ASC\n          ? ENTITY_SORT_DIRS.DESC\n          : ENTITY_SORT_DIRS.ASC;\n    }\n\n    this.sortBy = field;\n  };\n\n  fetchItemsInstance?: CancellablePromise<any>;\n\n  @action\n  fetchItems = () => {\n    this.fetchItemsCancel();\n\n    this.fetchItemsInstance = flow(function* (this: Entity) {\n      this.isLoading = true;\n      this.error = '';\n\n      try {\n        if (!this.api?.list?.url || !this.fetchItemsFn) {\n          throw new Error(ENTITY_ERRORS.CANT_LOAD_ITEMS);\n        }\n\n        const filter =\n          this.filters.current && this.filters.value\n            ? { name: this.filters.current, value: this.filters.value }\n            : null;\n\n        const result: Unwrap<typeof this.fetchItemsFn> = yield this.parent?.auth?.withToken(\n          this.fetchItemsFn,\n          {\n            url: this.api?.list?.url || '',\n            filter,\n            page: this.page,\n            count: this.items,\n            sortBy: this.sortBy,\n            sortDir: this.sortDir,\n          }\n        );\n\n        if (!result || result.error)\n          throw new Error(result?.error || ENTITY_ERRORS.CANT_LOAD_ITEMS);\n\n        this.data = result?.data?.list || [];\n        this.totalCount = result?.data?.totalCount || 0;\n        this.isLoading = false;\n      } catch (e) {\n        this.parent?.notifications.showError(e.message);\n        this.isLoading = false;\n      }\n    }).bind(this)();\n  };\n\n  fetchItemsCancel = () => {\n    if (this.fetchItemsInstance && this.fetchItemsInstance.cancel) {\n      this.fetchItemsInstance.cancel();\n    }\n  };\n\n  updateItemInstance?: CancellablePromise<any>;\n\n  @action\n  updateItem = () => {\n    this.updateItemInstance = flow(function* (this: Entity) {\n      this.isLoading = true;\n      this.error = '';\n\n      try {\n        const data = toJS(this.editorData);\n\n        if (!this.validateSubmitFields(data)) {\n          throw new Error(ENTITY_ERRORS.INCORRECT_INPUT);\n        }\n\n        if (!this.api?.update?.url || !this.updateItemsFn) {\n          throw new Error(ENTITY_ERRORS.CANT_LOAD_ITEMS);\n        }\n\n        const result: Unwrap<typeof this.updateItemsFn> = yield this.parent?.auth?.withToken(\n          this.updateItemsFn,\n          {\n            url: this.api?.update?.url || '',\n            data,\n          }\n        );\n\n        if (!result || result.error)\n          throw new Error(result?.error || ENTITY_ERRORS.CANT_LOAD_ITEMS);\n\n        this.fetchItems();\n        this.parent?.history.push(this.menu.url);\n      } catch (e) {\n        this.parent?.notifications.showError(e.message);\n        this.isLoading = false;\n      }\n    }).bind(this)();\n  };\n\n  @action\n  createItem = () => {\n    this.updateItemInstance = flow(function* (this: Entity) {\n      this.isLoading = true;\n      this.error = '';\n\n      try {\n        const data = toJS(this.editorData);\n\n        if (!this.validateSubmitFields(data)) {\n          throw new Error(ENTITY_ERRORS.INCORRECT_INPUT);\n        }\n\n        if (!this.api?.create?.url || !this.createItemsFn) {\n          throw new Error(ENTITY_ERRORS.CANT_LOAD_ITEMS);\n        }\n\n        const result: Unwrap<typeof this.createItemsFn> = yield this.parent?.auth?.withToken(\n          this.createItemsFn,\n          {\n            url: this.api?.create?.url || '',\n            data,\n          }\n        );\n\n        if (!result || result.error)\n          throw new Error(result?.error || ENTITY_ERRORS.CANT_LOAD_ITEMS);\n\n        this.fetchItems();\n        this.parent?.history.push(this.menu.url);\n      } catch (e) {\n        this.error = e;\n        this.parent?.notifications.showError(e.message);\n        this.isLoading = false;\n      }\n    }).bind(this)();\n  };\n\n  @action\n  resetFieldError = (field: string) => {\n    delete this.editorFieldErrors[field];\n  };\n\n  @action\n  validateSubmitFields = (data: Record<string, any>): boolean => {\n    this.editorFieldErrors = this.fields.reduce(\n      (obj, field) =>\n        (!field.required || field.type === 'boolean' || !!data[field.name]) &&\n        (!field.validator || field.validator(data[field.name]))\n          ? obj\n          : {\n              ...obj,\n              [field.name]: ENTITY_ERRORS.FIELD_IS_REQUIRED,\n            },\n      {}\n    );\n\n    return Object.keys(this.editorFieldErrors).length === 0;\n  };\n\n  @observable\n  getItemsInstance?: CancellablePromise<any>;\n\n  @action\n  getItem = (id: any) => {\n    this.getItemsInstance = flow(function* (this: Entity) {\n      this.isLoading = true;\n      this.error = '';\n\n      try {\n        if (!this.api?.get?.url || !this.getItemsFn) {\n          throw new Error(ENTITY_ERRORS.CANT_LOAD_ITEMS);\n        }\n\n        const result: Unwrap<typeof this.createItemsFn> = yield this.parent?.auth?.withToken(\n          this.getItemsFn,\n          {\n            id,\n            url: this.api?.get?.url,\n          }\n        );\n\n        if (!result || result.error)\n          throw new Error(result?.error || ENTITY_ERRORS.CANT_LOAD_ITEMS);\n\n        this.editorData = result.data;\n        this.isLoading = false;\n      } catch (e) {\n        this.parent?.notifications.showError(e.message);\n        this.parent?.history.push(this.menu.url);\n        this.isLoading = false;\n      }\n    }).bind(this)();\n  };\n\n  getItemsCancel = () => {\n    if (this.getItemsInstance && this.getItemsInstance.cancel) {\n      this.getItemsInstance.cancel();\n    }\n  };\n\n  @action\n  setEditorData = (data: Record<string, any>) => {\n    this.editorData = data;\n  };\n\n  @action\n  createEmptyItem = () => {\n    this.editorData = {};\n  };\n\n  @action\n  onMount = () => {\n    this.fetchItems();\n  };\n\n  @action\n  onUnmount = () => {\n    this.fetchItemsCancel();\n  };\n\n  @computed\n  get ListHead() {\n    return observer(() => (\n      <EntityHead\n        title={this.title}\n        filters={this.filters}\n        fields={this.fields}\n        setFilters={this.setFilters}\n        url={this.menu.url}\n        applyFilter={this.fetchItems}\n        canCreate={this.editable && this.canCreate}\n      />\n    ));\n  }\n\n  @computed\n  get ListBody() {\n    return observer(() => (\n      <EntityList\n        fields={this.fields}\n        data={this.data}\n        isLoading={this.isLoading}\n        url={this.menu.url}\n        sortBy={this.sortBy}\n        sortDir={this.sortDir}\n        onSortChange={this.setSort}\n        canView={this.viewable}\n        canEdit={this.editable && this.canEdit}\n      />\n    ));\n  }\n\n  @computed\n  get ListFooter() {\n    return observer(() => (\n      <EntityFooter\n        page={this.page}\n        itemsPerPage={this.itemsPerPage}\n        items={this.items}\n        totalCount={this.totalCount}\n        setPage={this.setPage}\n        setPerPage={this.setPerPage}\n      />\n    ));\n  }\n\n  @computed\n  get List() {\n    return observer(() => (\n      <div>\n        <this.ListHead />\n        <this.ListBody />\n        <this.ListFooter />\n      </div>\n    ));\n  }\n\n  @computed\n  get Viewer() {\n    return observer(\n      ({\n        match: {\n          params: { id },\n        },\n      }: RouteComponentProps<{ id: string }>) => (\n        <EntityViewer\n          entityName={this.title}\n          id={id}\n          fields={this.fields}\n          url={this.menu.url}\n          errors={this.editorFieldErrors}\n          onSave={() => {}}\n          onResetFieldError={this.resetFieldError}\n          isEditing={false}\n          isLoading={this.isLoading}\n          setEditorData={this.setEditorData}\n          data={this.editorData}\n          getItem={this.getItem}\n          cancelGetItem={this.getItemsCancel}\n          withToken={this.parent?.auth?.withToken}\n        />\n      )\n    );\n  }\n\n  @computed\n  get Editor() {\n    return observer(\n      ({\n        match: {\n          params: { id },\n        },\n      }: RouteComponentProps<{ id: string }>) => (\n        <EntityViewer\n          entityName={this.title}\n          id={id}\n          fields={this.fields}\n          errors={this.editorFieldErrors}\n          url={this.menu.url}\n          onSave={this.updateItem}\n          onResetFieldError={this.resetFieldError}\n          isLoading={this.isLoading}\n          setEditorData={this.setEditorData}\n          data={this.editorData}\n          getItem={this.getItem}\n          cancelGetItem={this.getItemsCancel}\n          withToken={this.parent?.auth?.withToken}\n          isEditing\n        />\n      )\n    );\n  }\n\n  @computed\n  get Creator() {\n    return observer(\n      ({\n        match: {\n          params: { id },\n        },\n      }: RouteComponentProps<{ id: string }>) => (\n        <EntityViewer\n          entityName={this.title}\n          fields={this.fields}\n          errors={this.editorFieldErrors}\n          url={this.menu.url}\n          onSave={this.createItem}\n          onResetFieldError={this.resetFieldError}\n          isEditing\n          isLoading={this.isLoading}\n          setEditorData={this.setEditorData}\n          data={this.editorData}\n          getItem={this.createEmptyItem}\n          cancelGetItem={this.getItemsCancel}\n          withToken={this.parent?.auth?.withToken}\n        />\n      )\n    );\n  }\n\n  @computed\n  get output() {\n    return observer(() => (\n      <Switch>\n        <Route path={`${this.menu.url}/create`} component={this.Creator} />\n        <Route path={`${this.menu.url}/:id/edit`} component={this.Editor} />\n        <Route path={`${this.menu.url}/:id/`} component={this.Viewer} />\n        <Route path={this.menu.url} component={this.List} />\n      </Switch>\n    ));\n  }\n}\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nexport * from './modules';\nexport * from './types';","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { IPageProps } from './page';\nimport { EntityFieldString } from '~/components/pages/EntityFieldString';\nimport { EntityFieldBoolean } from '~/components/pages/EntityFieldBoolean';\nimport { EntityFieldDate } from '~/components/pages/EntityFieldDate';\nimport { EntityFieldSelect } from '~/components/pages/EntityFieldSelect';\nimport { EntityFieldPhone } from '~/components/pages/EntityFieldPhone';\nimport { EntityFieldRichText } from '~/components/pages/EntityFieldRichText';\nimport { EntityFieldBase64Image } from '~/components/pages/EntityFieldBase64';\nimport { FC, ReactElement } from 'react';\n\nexport const ENTITY_FIELD_RENDERS = {\n  string: EntityFieldString,\n  date: EntityFieldDate,\n  boolean: EntityFieldBoolean,\n  select: EntityFieldSelect,\n  phone: EntityFieldPhone,\n  richtext: EntityFieldRichText,\n  base64image: EntityFieldBase64Image,\n};\n\n// getFieldRenderer returns field-type specific renderer\nexport const getEntityFieldRenderer = (type: string = 'string'): FC<any> => {\n  const key = Object.prototype.hasOwnProperty.call(ENTITY_FIELD_RENDERS, type)\n    ? type\n    : 'string';\n\n  return ENTITY_FIELD_RENDERS[key as keyof typeof ENTITY_FIELD_RENDERS] as FC<\n    any\n  >;\n};\n\nexport const ENTITY_SORT_DIRS: Record<string, 'asc' | 'desc'> = {\n  ASC: 'asc',\n  DESC: 'desc',\n};\n\nexport const ENTITY_FILTER_TYPES = {\n  TEXT: 'TEXT',\n  SELECT: 'SELECT',\n  NUMBER: 'NUMBER',\n  DATE: 'DATE',\n};\n\nexport const ENTITY_ACTIONS = {\n  CREATE: 'create',\n  GET: 'get',\n  LIST: 'list',\n  DELETE: 'delete',\n  UPDATE: 'update',\n};\n\nexport const ENTITY_ERRORS = {\n  CANT_UPDATE_ITEM: `Can't update item`,\n  CANT_LOAD_ITEMS: `Can't load items`,\n  FIELD_IS_REQUIRED: 'This field is required',\n  INCORRECT_INPUT: 'Check all inputs',\n};\n\nexport interface IEntityField {\n  name: string;\n  label?: string;\n  title?: boolean;\n  type: keyof typeof ENTITY_FIELD_RENDERS | 'custom';\n  sortable?: boolean;\n  filterable?: boolean;\n  required?: boolean;\n  validator?: (val: any) => boolean;\n  options?: Record<any, any>;\n  component?: FC<any>;\n\n  hideInList?: boolean;\n  hideInEdit?: boolean;\n}\n\nexport interface IEntityProps extends IPageProps {\n  fields: IEntityField[];\n  editable: boolean;\n  viewable: boolean;\n  creatable: boolean;\n  filters: {\n    current: string;\n    value: any;\n  };\n  api?: Record<\n    typeof ENTITY_ACTIONS[keyof typeof ENTITY_ACTIONS],\n    { url: string; method: string }\n  >;\n  fetchItemsFn?: IEntityFetchFunction;\n  updateItemsFn?: IEntityUpdateFunction;\n  createItemsFn?: IEntityCreateFunction;\n  getItemsFn?: IEntityGetFunction;\n}\n\nexport interface IEntityFetchFunctionProps {\n  url: string;\n  page?: number;\n  filter?: { name?: string; value?: any } | null;\n  sortBy: string;\n  sortDir: string;\n  count?: number;\n  token?: string;\n}\n\nexport interface IEntityFetchFunctionResult {\n  data: {\n    list: Record<string, any>[];\n    totalCount?: number;\n  };\n  error?: string;\n}\n\nexport type IEntityFetchFunction = (\n  props: IEntityFetchFunctionProps\n) => Promise<IEntityFetchFunctionResult>;\n\nexport interface IEntityUpdateFunctionProps {\n  url: string;\n  id: any;\n  token?: string;\n  data: Record<string, any>;\n}\n\nexport interface IEntityUpdateFunctionResult {\n  data: Record<string, any>;\n  error?: string;\n}\n\nexport type IEntityUpdateFunction = (\n  props: IEntityUpdateFunctionProps\n) => Promise<IEntityUpdateFunctionResult>;\n\nexport interface IEntityCreateFunctionProps {\n  url: string;\n  id: any;\n  token?: string;\n  data: Record<string, any>;\n}\n\nexport interface IEntityCreateFunctionResult {\n  data: Record<string, any>;\n  error?: string;\n}\n\nexport type IEntityCreateFunction = (\n  props: IEntityCreateFunctionProps\n) => Promise<IEntityCreateFunctionResult>;\n\nexport interface IEntityGetFunctionProps {\n  url: string;\n  token?: string;\n  id: any;\n}\n\nexport interface IEntityGetFunctionResult {\n  data: Record<string, any>;\n  error?: string;\n}\n\nexport type IEntityGetFunction = (\n  props: IEntityGetFunctionProps\n) => Promise<IEntityGetFunctionResult>;\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, MouseEventHandler, useCallback } from 'react';\nimport { TextField } from '@material-ui/core';\n\ntype IProps = {\n  label: string;\n  value: any;\n  error?: string;\n  isEditing?: boolean;\n  onClick?: MouseEventHandler<HTMLDivElement>;\n  handler?: (val: any) => void;\n} & Record<string, any>;\n\nconst EntityFieldString: FC<IProps> = ({\n  label,\n  value,\n  handler,\n  error,\n  isEditing,\n  onClick,\n}) => {\n  const onChange = useCallback(\n    (event) => {\n      if (!handler) return;\n\n      handler(event.target.value);\n    },\n    [value, handler]\n  );\n\n  return isEditing ? (\n    <div>\n      <TextField\n        label={label}\n        value={value || ''}\n        onChange={onChange}\n        error={!!error}\n        helperText={error}\n        variant=\"outlined\"\n      />\n    </div>\n  ) : (\n    <div onClick={onClick}>{value ? String(value) : ''}</div>\n  );\n};\n\nexport { EntityFieldString };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, MouseEventHandler, useCallback } from 'react';\nimport { DatePicker } from '@material-ui/pickers';\nimport format from 'date-fns/format';\nimport { MaterialUiPickersDate } from '@material-ui/pickers/typings/date';\n\ntype IProps = {\n  label: string;\n  value: any;\n  isEditing?: boolean;\n  error?: string;\n  handler?: (val: any) => void;\n  onClick?: MouseEventHandler<HTMLDivElement>;\n} & Record<string, any>;\n\nconst EntityFieldDate: FC<IProps> = ({\n  value,\n  handler,\n  label,\n  error,\n  isEditing,\n  onClick,\n}) => {\n  const onChange = useCallback(\n    (value: MaterialUiPickersDate) => {\n      if (!handler) return;\n      handler(value?.toISOString());\n    },\n    [value, handler]\n  );\n\n  return isEditing ? (\n    <div>\n      <DatePicker\n        value={value ? new Date(value) : null}\n        onChange={onChange}\n        format=\"dd.MM.yyyy\"\n        error={!!error}\n        helperText={error}\n        inputVariant=\"outlined\"\n        label={label}\n      />\n    </div>\n  ) : (\n    <div onClick={onClick}>\n      {value ? format(new Date(value), 'dd.MM.yyyy') : ''}\n    </div>\n  );\n};\n\nexport { EntityFieldDate };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, MouseEventHandler, useCallback } from 'react';\nimport CheckIcon from '@material-ui/icons/Check';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\n\ntype IProps = {\n  label: string;\n  value: any;\n  isEditing?: boolean;\n  error?: string;\n  handler?: (val: any) => void;\n  onClick?: MouseEventHandler<HTMLDivElement>;\n} & Record<string, any>;\n\nconst EntityFieldBoolean: FC<IProps> = ({\n  value,\n  handler,\n  label,\n  isEditing,\n  onClick,\n}) => {\n  const onChange = useCallback(() => {\n    if (!handler) return;\n\n    handler(!value);\n  }, [value, handler]);\n\n  return isEditing ? (\n    <FormControlLabel\n      control={<Checkbox onChange={onChange} checked={value || false} />}\n      label={label}\n    />\n  ) : (\n    <div onClick={onClick}>{!!value ? <CheckIcon /> : <ClearIcon />}</div>\n  );\n};\n\nexport { EntityFieldBoolean };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, MouseEventHandler, useCallback } from 'react';\nimport { Select, MenuItem, FormControl, InputLabel } from '@material-ui/core';\n\ntype IProps = {\n  label: string;\n  value: any;\n  isEditing?: boolean;\n  handler?: (val: any) => void;\n  error?: string;\n  onClick?: MouseEventHandler<HTMLDivElement>;\n  options?: Record<any, any>;\n} & Record<string, any>;\n\nconst EntityFieldSelect: FC<IProps> = ({\n  label,\n  value,\n  handler,\n  error,\n  isEditing,\n  onClick,\n  options,\n}) => {\n  const onChange = useCallback(\n    (event) => {\n      if (!handler) return;\n\n      handler(event.target.value);\n    },\n    [value, handler]\n  );\n\n  return isEditing ? (\n    <FormControl variant=\"outlined\">\n      <InputLabel htmlFor={label}>{label}</InputLabel>\n\n      <Select\n        variant=\"outlined\"\n        id={label}\n        name={label}\n        label={label}\n        value={!value ? '' : value}\n        onChange={onChange}\n        error={!!error}\n        inputProps={{ className: 'select' }}\n      >\n        <MenuItem value=\"\">...</MenuItem>\n\n        {options &&\n          Object.keys(options).map((item) => (\n            <MenuItem key={item} value={item}>\n              {options[item]}\n            </MenuItem>\n          ))}\n      </Select>\n    </FormControl>\n  ) : (\n    <div onClick={onClick}>{options && options[value]}</div>\n  );\n};\n\nexport { EntityFieldSelect };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, { FC, MouseEventHandler, useCallback } from 'react';\nimport { TextField } from '@material-ui/core';\nimport InputMask from 'react-input-mask';\n\ntype IProps = {\n  label: string;\n  value: any;\n  isEditing?: boolean;\n  handler?: (val: any) => void;\n  error?: string;\n  onClick?: MouseEventHandler<HTMLDivElement>;\n} & Record<string, any>;\n\nconst EntityFieldPhone: FC<IProps> = ({\n  label,\n  value,\n  handler,\n  error,\n  isEditing,\n  onClick,\n}) => {\n  const onChange = useCallback(\n    (event) => {\n      if (!handler) return;\n\n      handler(event.target.value.replace(/[^\\d]/gim, ''));\n    },\n    [value, handler]\n  );\n\n  return isEditing ? (\n    <div>\n      <InputMask\n        mask=\"+9 (999) 999-99-99\"\n        value={value ? value.toString() : ''}\n        onChange={onChange}\n      >\n        {() => (\n          <TextField\n            label={label}\n            error={!!error}\n            helperText={error}\n            variant=\"outlined\"\n          />\n        )}\n      </InputMask>\n    </div>\n  ) : (\n    <div onClick={onClick}>{value ? String(value) : ''}</div>\n  );\n};\n\nexport { EntityFieldPhone };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, {\n  FC,\n  MouseEventHandler,\n  useCallback,\n  useMemo,\n  useState,\n  useEffect,\n} from 'react';\nimport MUIRichTextEditor from 'mui-rte';\nimport { convertFromHTML } from 'draft-js';\nimport { convertToRaw, ContentState } from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\n\ntype IProps = {\n  label: string;\n  value: any;\n  isEditing?: boolean;\n  handler?: (val: any) => void;\n  error?: string;\n  onClick?: MouseEventHandler<HTMLDivElement>;\n} & Record<string, any>;\n\nconst EntityFieldRichText: FC<IProps> = ({\n  label,\n  value,\n  handler,\n  error,\n  isEditing,\n  onClick,\n}) => {\n  const [val, setVal] = useState('');\n\n  useEffect(() => {\n    const contentHTML = convertFromHTML(value || '');\n    const state = ContentState.createFromBlockArray(\n      contentHTML.contentBlocks,\n      contentHTML.entityMap\n    );\n\n    setVal(JSON.stringify(convertToRaw(state)));\n  }, []);\n\n  const onChange = useCallback(\n    (data) => {\n      if (!handler) return;\n      const text = draftToHtml(convertToRaw(data.getCurrentContent()));\n      handler(text || '');\n    },\n    [value, handler]\n  );\n\n  return isEditing ? (\n    <div>\n      <MUIRichTextEditor\n        label={label}\n        value={val || ''}\n        onChange={onChange}\n        error={!!error}\n        controls={[\n          'title',\n          'bold',\n          'italic',\n          'underline',\n          'strikethrough',\n          'undo',\n          'redo',\n          'numberList',\n          'bulletList',\n          'quote',\n          'clear',\n        ]}\n      />\n    </div>\n  ) : (\n    <div onClick={onClick} dangerouslySetInnerHTML={{ __html: value }} />\n  );\n};\n\nexport { EntityFieldRichText };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React, {\n  MouseEventHandler,\n  useCallback,\n  useState,\n  ChangeEvent,\n  FC,\n} from 'react';\nimport {\n  OutlinedInput,\n  Button,\n  FormControl,\n  withStyles,\n  WithStyles,\n  Box,\n} from '@material-ui/core';\nimport ImageIcon from '@material-ui/icons/Image';\nimport styles from './styles';\n\ntype IProps = WithStyles<typeof styles> & {\n  label: string;\n  value: any;\n  error?: string;\n  isEditing?: boolean;\n  onClick?: MouseEventHandler<HTMLDivElement>;\n  handler?: (val: any) => void;\n  options?: Record<any, any>;\n} & Record<string, any>;\n\nconst EntityFieldBase64Image = withStyles(styles)(\n  ({\n    classes,\n    label,\n    value,\n    handler,\n    error,\n    isEditing,\n    onClick,\n    options,\n  }: IProps) => {\n    const [innerError, setInnerError] = useState('');\n\n    const getBase64 = useCallback((file: File): Promise<string> => {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => resolve(reader.result?.toString() || '');\n        reader.onerror = (error) => reject(error);\n      });\n    }, []);\n\n    const loadImage = useCallback(\n      async (e: ChangeEvent<HTMLInputElement>) => {\n        if (!handler) return;\n        if (!e.target.files) return;\n\n        setInnerError('');\n\n        const file = e.target.files[0];\n\n        if (!file) return;\n\n        if (options?.maxSize && file.size > options.maxSize) {\n          setInnerError('Файл слишком большой!');\n          return;\n        }\n\n        if (options?.maxSize && file.size < options.minSize) {\n          setInnerError('Файл слишком маленький!');\n          return;\n        }\n\n        if (\n          options?.allowedMimeType &&\n          !options.allowedMimeType.includes(file.type)\n        ) {\n          setInnerError('Тип файла не поддерживается!');\n          return;\n        }\n\n        const photo: string = await getBase64(file);\n\n        const img = new Image();\n        img.src = photo;\n\n        img.onload = () => {\n          const { naturalWidth, naturalHeight } = img;\n\n          if (options && options.minViewBox) {\n            const minWidth = options.minViewBox.width;\n            const minHeight = options.minViewBox.height;\n\n            if (naturalWidth < minWidth || naturalHeight < minHeight) {\n              setInnerError(\n                `Размер картинки не должен быть менее ${minWidth}x${minHeight} пикселей`\n              );\n              return;\n            }\n          }\n\n          if (options?.maxViewBox) {\n            let maxWidth = options.maxViewBox.width;\n            let maxHeight = options.maxViewBox.height;\n            if (naturalWidth > maxWidth || naturalHeight > maxHeight) {\n              setInnerError(\n                `Размер картинки не должен быть более ${maxWidth}x${maxHeight} пикселей`\n              );\n              return;\n            }\n          }\n\n          handler(photo);\n        };\n      },\n      [setInnerError, handler, getBase64]\n    );\n\n    const onChange = useCallback(\n      (event) => {\n        if (!handler) return;\n\n        handler(event.target.value);\n      },\n      [value, handler]\n    );\n\n    return isEditing ? (\n      <div>\n        <FormControl\n          variant=\"outlined\"\n          className={classes.formControl}\n          style={{ position: 'relative' }}\n        >\n          <label htmlFor={label} className={classes.label}>\n            {value ? (\n              <div\n                className={classes.image}\n                style={{ backgroundImage: `url('${value}')` }}\n              />\n            ) : (\n              ''\n            )}\n\n            <OutlinedInput\n              fullWidth\n              style={{\n                flexDirection: 'row-reverse',\n              }}\n              error={!!innerError || !!error}\n              className={classes.outlinedInput}\n              inputComponent={() => (\n                <Button\n                  name={label}\n                  startIcon={<ImageIcon fontSize={'large'} />}\n                  variant=\"contained\"\n                  style={{\n                    display: 'flex',\n                    width: 150,\n                  }}\n                >\n                  <span>Загрузить</span>\n                </Button>\n              )}\n            />\n            <input\n              id={label}\n              name={label}\n              type=\"file\"\n              onChange={loadImage}\n              style={{ position: 'absolute' }}\n              accept={options && options.mimes ? options.mimes.join(', ') : ''}\n            />\n          </label>\n          {(innerError || error) && (\n            <Box color=\"error.main\" fontSize={12}>\n              {innerError || error}\n            </Box>\n          )}\n        </FormControl>\n      </div>\n    ) : (\n      <div onClick={onClick}>\n        <img src={value ? String(value) : ''} />\n      </div>\n    );\n  }\n);\n\nexport { EntityFieldBase64Image };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Theme } from '@material-ui/core';\n\nexport default (theme: Theme) => ({\n  formControl: {\n    margin: `${theme.spacing(2)}px 0 ${theme.spacing(1)}px`,\n    minWidth: 120,\n\n    '& input': {\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      opacity: 0,\n    },\n  },\n  outlinedInput: {\n    minHeight: '56px',\n    alignItems: 'inherit',\n  },\n  label: {\n    display: 'flex',\n\n    '& > img': {\n      marginRight: '10px',\n    },\n  },\n  image: {\n    flex: '0 0 56px',\n    width: 56,\n    height: 56,\n    backgroundSize: 'cover',\n    backgroundPosition: '50% 50%',\n    backgroundColor: '#eeeeee',\n  },\n});\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { IAuthProviderProps } from '~/application';\nimport axios from 'axios';\n\nconst authRestorePassword = (\n  host: string,\n  email: string\n): Promise<{\n  data: {\n    success: boolean;\n    isSuccess: boolean;\n  };\n  response: {\n    data: {\n      message: string;\n    };\n  };\n}> =>\n  axios\n    .post(`${host}/admin/v1/auth/restore-password`, { email })\n    .catch((e) => e);\n\nconst authGetTokens = (\n  host: string,\n  email: string,\n  password: string\n): Promise<{\n  data: {\n    success: boolean;\n    isSuccess: boolean;\n    data: {\n      accessToken: string;\n      refreshToken: string;\n    };\n  };\n  response: {\n    data: {\n      message: string;\n    };\n  };\n}> =>\n  axios\n    .post(`${host}/admin/v1/auth/signin`, { email, password })\n    .catch((e) => e);\n\nconst authGetProfile = (\n  host: string,\n  accessToken: string\n): Promise<{\n  data: {\n    success: boolean;\n    isSuccess: boolean;\n    data: {\n      id: number;\n      email: string;\n      name: string;\n      role: number;\n    };\n  };\n  response: {\n    data: {\n      message: string;\n    };\n  };\n}> =>\n  axios\n    .get(`${host}/admin/v1/user/profile`, {\n      headers: { authorization: `Bearer ${accessToken}` },\n    })\n    .catch((e) => e);\n\nexport const authRequestFn = (host: string) => async (\n  email: string,\n  password: string\n): Promise<{\n  user: IAuthProviderProps['user'];\n  tokens: Record<string, string>;\n  error: string;\n}> => {\n  try {\n    const auth = await authGetTokens(host, email, password);\n\n    if (!auth.data || !(auth.data.success || auth.data.isSuccess)) {\n      throw new Error(auth.response?.data?.message);\n    }\n\n    const profile = await authGetProfile(host, auth.data.data.accessToken);\n\n    if (!profile.data || !profile.data?.data.id) {\n      throw new Error(profile.response?.data?.message);\n    }\n\n    return {\n      user: {\n        id: profile.data.data.id,\n        email: profile.data.data.email,\n        username: profile.data.data.name,\n        role: String(profile.data.data.role),\n      },\n      tokens: {\n        access: auth.data.data.accessToken,\n        refresh: auth.data.data.refreshToken,\n      },\n      error: '',\n    };\n  } catch (error) {\n    return {\n      user: {},\n      tokens: {},\n      error: error.message,\n    };\n  }\n};\n\nexport const authPasswRestoreFn = (host: string) => async (\n  email: string\n): Promise<{\n  error: string;\n}> => {\n  try {\n    const restore = await authRestorePassword(host, email);\n\n    if (!restore.data || !(restore.data.success || restore.data.isSuccess)) {\n      throw new Error(restore.response?.data?.message);\n    }\n\n    return {\n      error: '',\n    };\n  } catch (error) {\n    return {\n      error: error.message,\n    };\n  }\n};\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport {\n  IEntityFetchFunction,\n  ENTITY_ERRORS,\n  IEntityGetFunction,\n  IEntityUpdateFunction,\n  IEntityCreateFunction,\n} from '~/application';\nimport axios from 'axios';\n\nexport const fetchItemsFn: IEntityFetchFunction = async ({\n  url,\n  token,\n  page,\n  count: limit,\n  sortBy,\n  sortDir,\n  filter,\n}) => {\n  try {\n    const offset = (page && limit && page * limit) || 0;\n    const orderBy = sortDir.toUpperCase();\n    const result = await axios\n      .get(url, {\n        headers: { Authorization: token },\n        params: {\n          offset,\n          limit,\n          sortBy,\n          orderBy,\n          ...(filter?.name ? { [filter.name]: filter?.value } : {}),\n        },\n      })\n      .catch((e) => e);\n\n    const totalCount = parseInt(result.headers['x-total-count'] || 0);\n\n    if (!result.data || !(result.data.success || result.data.isSuccess)) {\n      throw new Error(\n        result.response?.data?.message || ENTITY_ERRORS.CANT_LOAD_ITEMS\n      );\n    }\n\n    return Promise.resolve({\n      data: { list: result.data.data, totalCount },\n      error: '',\n    });\n  } catch (error) {\n    return {\n      data: { list: [], totalCount: 0 },\n      error: error.message,\n    };\n  }\n};\n\nexport const getItemsFn: IEntityGetFunction = async ({ url, token, id }) => {\n  try {\n    const result = await axios\n      .get(`${url}/${id}`, { headers: { Authorization: token } })\n      .catch((e) => e);\n\n    if (!result.data || !(result.data.success || result.data.isSuccess)) {\n      throw new Error(\n        result.response?.data?.message || ENTITY_ERRORS.CANT_LOAD_ITEMS\n      );\n    }\n\n    return Promise.resolve({\n      data: result.data.data,\n      error: '',\n    });\n  } catch (error) {\n    return {\n      data: {},\n      error: error.message,\n    };\n  }\n};\n\nexport const updateItemsFn: IEntityUpdateFunction = async ({\n  url,\n  token,\n  data,\n}) => {\n  try {\n    const result = await axios\n      .put(`${url}/${data.id}`, data, { headers: { Authorization: token } })\n      .catch((e) => e);\n\n    if (!result.data || !(result.data.success || result.data.isSuccess)) {\n      throw new Error(\n        result.response?.data?.dataList[0]?.message ||\n          result.response?.data?.message ||\n          ENTITY_ERRORS.CANT_UPDATE_ITEM\n      );\n    }\n\n    return Promise.resolve({\n      data: result.data.data,\n      error: '',\n    });\n  } catch (error) {\n    return {\n      data: {},\n      error: error.message,\n    };\n  }\n};\n\nexport const createItemsFn: IEntityCreateFunction = async ({\n  url,\n  token,\n  data,\n}) => {\n  try {\n    const result = await axios\n      .post(`${url}`, data, { headers: { Authorization: token } })\n      .catch((e) => e);\n\n    if (!result.data || !(result.data.success || result.data.isSuccess)) {\n      throw new Error(\n        result.response?.data?.dataList[0]?.message ||\n          result.response?.data?.message ||\n          ENTITY_ERRORS.CANT_UPDATE_ITEM\n      );\n    }\n\n    return Promise.resolve({\n      data: result.data.data,\n      error: '',\n    });\n  } catch (error) {\n    return {\n      data: {},\n      error: error.message,\n    };\n  }\n};\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#d20c0a',\n    },\n  },\n  typography: {\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", \"sans-serif\"',\n  },\n});\n","import React, {\n  FC,\n  useState,\n  useEffect,\n  useCallback,\n  ChangeEvent,\n} from 'react';\nimport { IEntityField } from '~/application';\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport Axios from 'axios';\nimport { observer } from 'mobx-react';\n\ninterface RegionData {\n  regionId: number | null;\n  region: { id: number; name: string };\n}\n\ninterface IProps {\n  label: string;\n  data: RegionData;\n  value: any;\n  fields: IEntityField[];\n  error: string;\n  options: { getRegionsUrl: string };\n  isEditing?: boolean;\n  handler: (val: any) => void;\n  withToken: (req: any, args: any) => any;\n}\n\ninterface CityRegion {\n  label: string;\n  value: number;\n}\n\nconst RegionSelectField: FC<IProps> = observer(\n  ({ data, label, value, handler, error, options, withToken, isEditing }) => {\n    const [regions, setRegions] = useState<CityRegion[]>([]);\n\n    useEffect(() => {\n      (async () => {\n        const result = await withToken(\n          ({ token }: { token: string }) =>\n            Axios.get(options.getRegionsUrl, {\n              headers: { Authorization: token },\n            }).catch((e) => e),\n          {}\n        );\n\n        if (!result?.data?.data) return;\n\n        setRegions(result.data.data);\n      })();\n    }, [options.getRegionsUrl]);\n\n    const onRegionChange = useCallback(\n      async (event: ChangeEvent<{ value: any }>) => {\n        handler(parseInt(event.target.value) || null);\n      },\n      [data, options, handler]\n    );\n\n    return isEditing ? (\n      <FormControl variant=\"outlined\">\n        <InputLabel htmlFor={label}>{label}</InputLabel>\n\n        <Select\n          variant=\"outlined\"\n          id={label}\n          name={label}\n          label={label}\n          value={value || ''}\n          onChange={onRegionChange}\n          error={!!error}\n          inputProps={{ className: 'select' }}\n        >\n          <MenuItem value=\"\">...</MenuItem>\n\n          {regions.length > 0 &&\n            regions.map((region) => (\n              <MenuItem key={region.value} value={region.value}>\n                {region.label}\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n    ) : (\n      <div>{data?.region?.name}</div>\n    );\n  }\n);\n\nexport { RegionSelectField };\n","import React, {\n  FC,\n  useState,\n  useEffect,\n  useCallback,\n  ChangeEvent,\n} from 'react';\nimport { IEntityField } from '~/application';\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport Axios from 'axios';\nimport { observer } from 'mobx-react';\n\ninterface RegionData {\n  regionId: number | null;\n  cityId: number | null;\n  city: { name: string; id: number };\n}\n\ninterface IProps {\n  label: string;\n  data: RegionData;\n  value: any;\n  fields: IEntityField[];\n  error: string;\n  options: { getRegionsUrl: string };\n  isEditing?: boolean;\n  handler: (val: any) => void;\n  withToken: (req: any, args: any) => any;\n}\n\ninterface City {\n  label: string;\n  value: number;\n}\n\nconst CitySelectField: FC<IProps> = observer(\n  ({ data, label, value, handler, error, options, withToken, isEditing }) => {\n    const [cities, setCities] = useState<City[]>([]);\n\n    useEffect(() => {\n      if (!data.regionId) {\n        setCities([]);\n      }\n\n      (async () => {\n        const result = await withToken(\n          ({ token }: { token: string }) =>\n            Axios.get(`${options.getRegionsUrl}/${data.regionId}/cities`, {\n              headers: { Authorization: token },\n            }).catch((e) => e),\n          {}\n        );\n\n        if (!result?.data?.data) return;\n\n        setCities(result.data.data);\n      })();\n    }, [options.getRegionsUrl, data.regionId]);\n\n    const onCityChange = useCallback(\n      async (event: ChangeEvent<{ value: any }>) => {\n        handler(parseInt(event.target.value) || null);\n      },\n      [data, options, handler]\n    );\n\n    return isEditing ? (\n      <FormControl variant=\"outlined\">\n        <InputLabel htmlFor={label}>{label}</InputLabel>\n\n        <Select\n          variant=\"outlined\"\n          id={label}\n          name={label}\n          label={label}\n          value={value || ''}\n          onChange={onCityChange}\n          error={!!error}\n          inputProps={{ className: 'select' }}\n        >\n          <MenuItem value=\"\">...</MenuItem>\n\n          {cities.length > 0 &&\n            cities.map((city) => (\n              <MenuItem key={city.value} value={city.value}>\n                {city.label}\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n    ) : (\n      <div>{data?.city?.name || ''}</div>\n    );\n  }\n);\n\nexport { CitySelectField };\n","import React, {\n  FC,\n  useState,\n  useEffect,\n  useCallback,\n  ChangeEvent,\n} from 'react';\nimport { IEntityField } from '~/application';\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport Axios from 'axios';\nimport { observer } from 'mobx-react';\n\ninterface VehicleData {\n  type: number;\n  vehicleId: number | null;\n  vehicle: string;\n}\n\ninterface IProps {\n  label: string;\n  data: VehicleData;\n  value: any;\n  fields: IEntityField[];\n  error: string;\n  options: { getVehiclesUrl: string };\n  isEditing?: boolean;\n  handler: (val: any) => void;\n  withToken: (req: any, args: any) => any;\n}\n\ninterface Vehicle {\n  label: string;\n  value: number;\n}\n\nconst VehicleSelectField: FC<IProps> = observer(\n  ({ data, label, value, handler, error, options, withToken, isEditing }) => {\n    const [vehicles, setVehicles] = useState<Vehicle[]>([]);\n\n    useEffect(() => {\n      (async () => {\n        const result = await withToken(\n          ({ token }: { token: string }) =>\n            Axios.get(`${options.getVehiclesUrl}/${data.type}/list`, {\n              headers: { Authorization: token },\n            }).catch((e) => e),\n          {}\n        );\n\n        if (!result?.data?.data) return;\n\n        setVehicles(result.data.data);\n      })();\n    }, [options.getVehiclesUrl, data.type]);\n\n    const onVehicleChange = useCallback(\n      async (event: ChangeEvent<{ value: any }>) => {\n        handler(parseInt(event.target.value) || null);\n      },\n      [data, options, handler]\n    );\n\n    return isEditing ? (\n      <FormControl variant=\"outlined\">\n        <InputLabel htmlFor={label}>{label}</InputLabel>\n\n        <Select\n          variant=\"outlined\"\n          id={label}\n          name={label}\n          label={label}\n          value={value || ''}\n          onChange={onVehicleChange}\n          error={!!error}\n          inputProps={{ className: 'select' }}\n        >\n          <MenuItem value=\"\">...</MenuItem>\n\n          {vehicles.length > 0 &&\n            vehicles.map((vehicle) => (\n              <MenuItem key={vehicle.value} value={vehicle.value}>\n                {vehicle.label}\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n    ) : (\n      <div>{data?.vehicle || ''}</div>\n    );\n  }\n);\n\nexport { VehicleSelectField };\n","import React, { FC, useCallback, ChangeEvent, useMemo } from 'react';\nimport { IEntityField } from '~/application';\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport { observer } from 'mobx-react';\n\ninterface InquiryData {\n  type: number;\n}\n\ninterface IProps {\n  label: string;\n  data: InquiryData;\n  value: any;\n  fields: IEntityField[];\n  error: string;\n  options: { types: Record<number, number[]>; titles: Record<number, string> };\n  isEditing?: boolean;\n  handler: (val: any) => void;\n  withToken: (req: any, args: any) => any;\n}\n\ninterface Inquiry {\n  label: string;\n  value: number;\n}\n\nconst InquiryStatusField: FC<IProps> = observer(\n  ({ data, label, value, handler, error, options, withToken, isEditing }) => {\n    const onInquiryChange = useCallback(\n      async (event: ChangeEvent<{ value: any }>) => {\n        handler(parseInt(event.target.value) || null);\n      },\n      [data, options, handler]\n    );\n\n    const variants = useMemo((): Record<number, string> => {\n      if (!options.types || !options.types[data.type]) {\n        return {};\n      }\n\n      return options.types[data.type].reduce(\n        (obj, c) => ({\n          ...obj,\n          [c]: options.titles[c],\n        }),\n        {}\n      );\n    }, [data.type, options.titles, options.types]);\n\n    return isEditing ? (\n      <FormControl variant=\"outlined\">\n        <InputLabel htmlFor={label}>{label}</InputLabel>\n\n        <Select\n          variant=\"outlined\"\n          id={label}\n          name={label}\n          label={label}\n          value={value || ''}\n          onChange={onInquiryChange}\n          error={!!error}\n          inputProps={{ className: 'select' }}\n        >\n          <MenuItem value=\"\">...</MenuItem>\n\n          {Object.keys(variants).length > 0 &&\n            Object.keys(variants).map((variant) => (\n              <MenuItem key={variant} value={variant}>\n                {options.titles[parseInt(variant)] || variant.toString()}\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n    ) : (\n      <div>{(value && options?.titles[value]) || ''}</div>\n    );\n  }\n);\n\nexport { InquiryStatusField };\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Entity } from '~/application';\n\nimport { fetchItemsFn, getItemsFn, updateItemsFn, createItemsFn } from '../api';\n\nimport { ADMIN_ROLE_ADMIN, ADMIN_ROLE_MANAGER } from '../roles';\nimport { VehicleSelectField } from '../components/VehicleSelectField';\nimport { InquiryStatusField } from '../components/InquiryStatusField';\n\nexport const VEHICLE_INQUIRY_TYPE_BUY = 10;\nexport const VEHICLE_INQUIRY_TYPE_DRIVE = 20;\n\nexport const VEHICLE_INQUIRY_STATUS_NEW = 10;\nexport const VEHICLE_INQUIRY_STATUS_IN_PROGRESS = 20;\nexport const VEHICLE_INQUIRY_STATUS_TEST_DRIVE_ASSIGNED = 30;\nexport const VEHICLE_INQUIRY_STATUS_TEST_DRIVE_COMPLETED = 40;\nexport const VEHICLE_INQUIRY_STATUS_SENT_KP = 50;\nexport const VEHICLE_INQUIRY_STATUS_CLOSED_SUCCESSFULLY = 60;\nexport const VEHICLE_INQUIRY_STATUS_CLOSED_NOT_SUCCESSFULLY = 70;\nexport const VEHICLE_INQUIRY_STATUS_CLOSED = 80;\n\nexport const VEHICLE_INQUIRY_STATUSES = {\n  [VEHICLE_INQUIRY_TYPE_BUY]: [\n    VEHICLE_INQUIRY_STATUS_NEW,\n    VEHICLE_INQUIRY_STATUS_IN_PROGRESS,\n    VEHICLE_INQUIRY_STATUS_SENT_KP,\n    VEHICLE_INQUIRY_STATUS_CLOSED_SUCCESSFULLY,\n    VEHICLE_INQUIRY_STATUS_CLOSED_NOT_SUCCESSFULLY,\n  ],\n  [VEHICLE_INQUIRY_TYPE_DRIVE]: [\n    VEHICLE_INQUIRY_STATUS_NEW,\n    VEHICLE_INQUIRY_STATUS_IN_PROGRESS,\n    VEHICLE_INQUIRY_STATUS_TEST_DRIVE_ASSIGNED,\n    VEHICLE_INQUIRY_STATUS_TEST_DRIVE_COMPLETED,\n  ],\n};\n\nexport const VEHICLE_INQUIRY_STATUS_TITLES = {\n  [VEHICLE_INQUIRY_STATUS_NEW]: 'Новая',\n  [VEHICLE_INQUIRY_STATUS_IN_PROGRESS]: 'Обрабатывается менеджером',\n  [VEHICLE_INQUIRY_STATUS_TEST_DRIVE_ASSIGNED]: 'Назначен тест-драйв',\n  [VEHICLE_INQUIRY_STATUS_TEST_DRIVE_COMPLETED]: 'Тест-драйв завершен',\n  [VEHICLE_INQUIRY_STATUS_SENT_KP]: 'Отправлено КП',\n  [VEHICLE_INQUIRY_STATUS_CLOSED_SUCCESSFULLY]: 'Закрыта успешно',\n  [VEHICLE_INQUIRY_STATUS_CLOSED_NOT_SUCCESSFULLY]: 'Закрыта неуспешно',\n  [VEHICLE_INQUIRY_STATUS_CLOSED]: 'Закрыта',\n};\n\nexport default (host: string) =>\n  new Entity({\n    title: 'Заявки',\n    editable: true,\n    viewable: true,\n    roles: {\n      list: [ADMIN_ROLE_ADMIN.toString(), ADMIN_ROLE_MANAGER.toString()],\n      update: [ADMIN_ROLE_ADMIN.toString(), ADMIN_ROLE_MANAGER.toString()],\n    },\n    api: {\n      list: {\n        url: `${host}/admin/v1/inquiry/vehicle`,\n        method: 'get',\n      },\n      update: {\n        url: `${host}/admin/v1/inquiry/vehicle`,\n        method: 'put',\n      },\n      create: {\n        url: `${host}/admin/v1/inquiry/vehicle`,\n        method: 'post',\n      },\n      get: {\n        url: `${host}/admin/v1/inquiry/vehicle`,\n        method: 'get',\n      },\n    },\n    menu: {\n      enabled: true,\n      label: 'Заявки',\n      url: '/inquiry',\n    },\n    fields: [\n      {\n        name: 'type',\n        label: 'Тип',\n        type: 'select',\n        filterable: true,\n        sortable: true,\n        options: {\n          [VEHICLE_INQUIRY_TYPE_BUY]: 'Покупка А/М',\n          [VEHICLE_INQUIRY_TYPE_DRIVE]: 'Тест-драйв',\n        },\n      },\n      {\n        name: 'name',\n        label: 'Ф.И.О.',\n        type: 'string',\n        hideInEdit: true,\n        hideInList: true,\n        filterable: true,\n        sortable: true,\n      },\n      {\n        name: 'firstName',\n        type: 'string',\n        label: 'Имя',\n        required: true,\n        filterable: false,\n        sortable: true,\n      },\n      {\n        name: 'lastName',\n        type: 'string',\n        label: 'Фамилия',\n        required: true,\n        filterable: false,\n        sortable: true,\n      },\n      {\n        name: 'middleName',\n        type: 'string',\n        label: 'Отчество',\n        required: true,\n        filterable: false,\n        sortable: true,\n      },\n      {\n        name: 'status',\n        type: 'custom',\n        label: 'Статус',\n        component: InquiryStatusField,\n        required: true,\n        sortable: true,\n        options: {\n          types: VEHICLE_INQUIRY_STATUSES,\n          titles: VEHICLE_INQUIRY_STATUS_TITLES,\n        },\n      },\n      {\n        name: 'date',\n        label: 'Дата/Время',\n        type: 'date',\n        sortable: true,\n      },\n      {\n        name: 'phone',\n        label: 'Телефон',\n        type: 'phone',\n        required: true,\n      },\n      {\n        name: 'vehicleId',\n        label: 'А/М',\n        type: 'custom',\n        component: VehicleSelectField,\n        options: {\n          getVehiclesUrl: `${host}/admin/v1/vehicle/`,\n        },\n      },\n      {\n        name: 'manager',\n        label: 'Менеджер',\n        type: 'string', // TODO: Should be reference field\n        hideInEdit: true,\n      },\n      {\n        name: 'dealer',\n        label: 'Дилерский центр',\n        type: 'string', // TODO: Should be reference field\n      },\n      {\n        name: 'createdAt',\n        label: 'Дата заявки',\n        type: 'date',\n        hideInEdit: true,\n        sortable: true,\n      },\n      {\n        name: 'notificationsEnabled',\n        label: 'Посылать уведомления клиенту об изменениях',\n        type: 'boolean',\n        hideInList: true,\n      },\n    ],\n    fetchItemsFn,\n    getItemsFn,\n    updateItemsFn,\n    createItemsFn,\n  });\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Entity } from '~/application';\n\nimport { fetchItemsFn, getItemsFn, updateItemsFn, createItemsFn } from '../api';\n\nimport { ADMIN_ROLE_ADMIN, ADMIN_ROLE_MANAGER } from '../roles';\nimport { InquiryStatusField } from '../components/InquiryStatusField';\n\nexport const VEHICLE_INQUIRY_TYPE_BUY = 10;\nexport const VEHICLE_INQUIRY_TYPE_DRIVE = 20;\n\nexport const VEHICLE_INQUIRY_STATUS_NEW = 10;\nexport const VEHICLE_INQUIRY_STATUS_IN_PROGRESS = 20;\nexport const VEHICLE_INQUIRY_STATUS_TEST_DRIVE_ASSIGNED = 30;\nexport const VEHICLE_INQUIRY_STATUS_TEST_DRIVE_COMPLETED = 40;\nexport const VEHICLE_INQUIRY_STATUS_SENT_KP = 50;\nexport const VEHICLE_INQUIRY_STATUS_CLOSED_SUCCESSFULLY = 60;\nexport const VEHICLE_INQUIRY_STATUS_CLOSED_NOT_SUCCESSFULLY = 70;\nexport const VEHICLE_INQUIRY_STATUS_CLOSED = 80;\n\nexport const VEHICLE_INQUIRY_STATUSES = {\n  [VEHICLE_INQUIRY_TYPE_BUY]: [\n    VEHICLE_INQUIRY_STATUS_NEW,\n    VEHICLE_INQUIRY_STATUS_IN_PROGRESS,\n    VEHICLE_INQUIRY_STATUS_SENT_KP,\n    VEHICLE_INQUIRY_STATUS_CLOSED_SUCCESSFULLY,\n    VEHICLE_INQUIRY_STATUS_CLOSED_NOT_SUCCESSFULLY,\n  ],\n  [VEHICLE_INQUIRY_TYPE_DRIVE]: [\n    VEHICLE_INQUIRY_STATUS_NEW,\n    VEHICLE_INQUIRY_STATUS_IN_PROGRESS,\n    VEHICLE_INQUIRY_STATUS_TEST_DRIVE_ASSIGNED,\n    VEHICLE_INQUIRY_STATUS_TEST_DRIVE_COMPLETED,\n  ],\n};\n\nexport const VEHICLE_INQUIRY_STATUS_TITLES = {\n  [VEHICLE_INQUIRY_STATUS_NEW]: 'Новая',\n  [VEHICLE_INQUIRY_STATUS_IN_PROGRESS]: 'Обрабатывается менеджером',\n  [VEHICLE_INQUIRY_STATUS_TEST_DRIVE_ASSIGNED]: 'Назначен тест-драйв',\n  [VEHICLE_INQUIRY_STATUS_TEST_DRIVE_COMPLETED]: 'Тест-драйв завершен',\n  [VEHICLE_INQUIRY_STATUS_SENT_KP]: 'Отправлено КП',\n  [VEHICLE_INQUIRY_STATUS_CLOSED_SUCCESSFULLY]: 'Закрыта успешно',\n  [VEHICLE_INQUIRY_STATUS_CLOSED_NOT_SUCCESSFULLY]: 'Закрыта неуспешно',\n  [VEHICLE_INQUIRY_STATUS_CLOSED]: 'Закрыта',\n};\n\nexport default (host: string) =>\n  new Entity({\n    title: 'Обратная связь',\n    editable: true,\n    viewable: true,\n    roles: {\n      list: [ADMIN_ROLE_ADMIN.toString(), ADMIN_ROLE_MANAGER.toString()],\n      update: [ADMIN_ROLE_ADMIN.toString(), ADMIN_ROLE_MANAGER.toString()],\n    },\n    api: {\n      list: {\n        url: `${host}/admin/v1/inquiry/feedback`,\n        method: 'get',\n      },\n      update: {\n        url: `${host}/admin/v1/inquiry/feedback`,\n        method: 'put',\n      },\n      create: {\n        url: `${host}/admin/v1/inquiry/feedback`,\n        method: 'post',\n      },\n      get: {\n        url: `${host}/admin/v1/inquiry/feedback`,\n        method: 'get',\n      },\n    },\n    menu: {\n      enabled: true,\n      label: 'Обратная связь',\n      url: '/feedback',\n    },\n    fields: [\n      {\n        name: 'type',\n        label: 'Тип',\n        type: 'select',\n        filterable: true,\n        sortable: true,\n        options: {\n          [VEHICLE_INQUIRY_TYPE_BUY]: 'Покупка А/М',\n          [VEHICLE_INQUIRY_TYPE_DRIVE]: 'Тест-драйв',\n        },\n      },\n      {\n        name: 'name',\n        label: 'Имя',\n        type: 'string',\n        filterable: true,\n        sortable: true,\n      },\n      {\n        name: 'status',\n        type: 'custom',\n        label: 'Статус',\n        required: true,\n        sortable: true,\n        component: InquiryStatusField,\n        options: {\n          types: VEHICLE_INQUIRY_STATUSES,\n          titles: VEHICLE_INQUIRY_STATUS_TITLES,\n        },\n      },\n      {\n        name: 'email',\n        label: 'E-mail',\n        type: 'string',\n        required: true,\n      },\n      {\n        name: 'phone',\n        label: 'Телефон',\n        type: 'phone',\n        required: true,\n      },\n      {\n        name: 'date',\n        label: 'Дата/Время',\n        type: 'date',\n        sortable: true,\n      },\n      {\n        name: 'manager',\n        label: 'Менеджер',\n        type: 'string', // TODO: Should be reference field\n        hideInEdit: true,\n      },\n      {\n        name: 'createdAt',\n        label: 'Дата заявки',\n        type: 'date',\n        hideInEdit: true,\n        sortable: true,\n      },\n    ],\n    fetchItemsFn,\n    getItemsFn,\n    updateItemsFn,\n    createItemsFn,\n  });\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Config, JWTAuthProvider } from '~/application';\nimport { authRequestFn, authPasswRestoreFn } from './auth';\nimport admins from './pages/admins';\nimport theme from './theme';\nimport news from './pages/news';\nimport customer from './pages/customer';\nimport {\n  ADMIN_ROLE_ADMIN,\n  ADMIN_ROLE_EDITOR,\n  ADMIN_ROLE_MANAGER,\n} from './roles';\nimport vehicle from './pages/vehicle';\nimport feedback from './pages/feedback';\n\n// const HOST = 'http://localhost:8080';\nconst HOST = 'https://api.alliance-trucks.icerockdev.com';\n\nexport default new Config({\n  logo:\n    'data:image/png;base64,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',\n  auth: new JWTAuthProvider({\n    authRequestFn: authRequestFn(HOST),\n    authPasswRestoreFn: authPasswRestoreFn(HOST),\n    roleTitles: {\n      [ADMIN_ROLE_ADMIN]: 'Главный администратор',\n      [ADMIN_ROLE_EDITOR]: 'Редактор контента',\n      [ADMIN_ROLE_MANAGER]: 'Менеджер Заявок',\n    },\n  }),\n  pages: [\n    admins(HOST),\n    customer(HOST),\n    vehicle(HOST),\n    feedback(HOST),\n    news(HOST),\n  ],\n  theme,\n});\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nexport const ADMIN_ROLE_ADMIN = 10;\nexport const ADMIN_ROLE_MANAGER = 20;\nexport const ADMIN_ROLE_EDITOR = 30;\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Entity } from '~/application';\n\nimport { fetchItemsFn, getItemsFn, updateItemsFn, createItemsFn } from '../api';\n\nimport {\n  ADMIN_ROLE_ADMIN,\n  ADMIN_ROLE_EDITOR,\n  ADMIN_ROLE_MANAGER,\n} from '../roles';\n\nexport const CUSTOMER_STATUS_ACTIVE = 10;\nexport const CUSTOMER_STATUS_BLOCKED = 20;\n\nexport default (host: string) =>\n  new Entity({\n    title: 'Администраторы',\n    editable: true,\n    viewable: true,\n    roles: {\n      all: [ADMIN_ROLE_ADMIN.toString()],\n    },\n    api: {\n      list: {\n        url: `${host}/admin/v1/user`,\n        method: 'get',\n      },\n      update: {\n        url: `${host}/admin/v1/user`,\n        method: 'put',\n      },\n      create: {\n        url: `${host}/admin/v1/user`,\n        method: 'post',\n      },\n      get: {\n        url: `${host}/admin/v1/user`,\n        method: 'get',\n      },\n    },\n    menu: {\n      enabled: true,\n      label: 'Администраторы',\n      url: '/user',\n    },\n    fields: [\n      {\n        name: 'name',\n        type: 'string',\n        label: 'Ф.И.О.',\n        required: true,\n        title: true,\n        filterable: true,\n      },\n      {\n        name: 'status',\n        type: 'select',\n        label: 'Статус',\n        sortable: true,\n        filterable: true,\n        hideInEdit: true,\n        options: {\n          [CUSTOMER_STATUS_ACTIVE]: 'Активен',\n          [CUSTOMER_STATUS_BLOCKED]: 'Заблокирован',\n        },\n      },\n      {\n        name: 'phone',\n        type: 'phone',\n        label: 'Рабочий тел.',\n        required: true,\n        filterable: true,\n      },\n      {\n        name: 'personalPhone',\n        type: 'phone',\n        label: 'Личный тел.',\n        required: true,\n        hideInList: true,\n      },\n      {\n        name: 'role',\n        type: 'select',\n        label: 'Роль',\n        sortable: true,\n        required: true,\n        filterable: true,\n        options: {\n          [ADMIN_ROLE_ADMIN]: 'Главный Администратор',\n          [ADMIN_ROLE_EDITOR]: 'Редактор Контента',\n          [ADMIN_ROLE_MANAGER]: 'Менеджер Заявок',\n        },\n      },\n      {\n        name: 'email',\n        type: 'string',\n        label: 'E-mail',\n        required: true,\n        hideInList: true,\n      },\n    ],\n    fetchItemsFn,\n    getItemsFn,\n    updateItemsFn,\n    createItemsFn,\n  });\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Entity } from '~/application';\nimport { ADMIN_ROLE_ADMIN, ADMIN_ROLE_MANAGER } from '../roles';\n\nimport { fetchItemsFn, getItemsFn, updateItemsFn, createItemsFn } from '../api';\nimport { RegionSelectField } from '../components/RegionSelectField';\nimport { CitySelectField } from '../components/CitySelectField';\n\nexport const TYPE_OFFER = 10;\nexport const TYPE_NEWS = 20;\n\nexport const CUSTOMER_STATUS_ACTIVE = 10;\nexport const CUSTOMER_STATUS_BLOCKED = 20;\nexport const CUSTOMER_STATUS_REGISTRATION = 30;\n\nexport default (host: string) =>\n  new Entity({\n    title: 'Клиенты',\n    editable: true,\n    viewable: true,\n    roles: {\n      list: [ADMIN_ROLE_ADMIN.toString(), ADMIN_ROLE_MANAGER.toString()],\n      update: [ADMIN_ROLE_ADMIN.toString()],\n      create: [ADMIN_ROLE_ADMIN.toString()],\n    },\n    api: {\n      list: {\n        url: `${host}/admin/v1/customer`,\n        method: 'get',\n      },\n      update: {\n        url: `${host}/admin/v1/customer`,\n        method: 'put',\n      },\n      create: {\n        url: `${host}/admin/v1/customer`,\n        method: 'post',\n      },\n      get: {\n        url: `${host}/admin/v1/customer`,\n        method: 'get',\n      },\n    },\n    menu: {\n      enabled: true,\n      label: 'Клиенты',\n      url: '/customer',\n    },\n    fields: [\n      {\n        name: 'name',\n        type: 'string',\n        label: 'Ф.И.О.',\n        hideInEdit: true,\n        hideInList: true,\n        filterable: true,\n      },\n      {\n        name: 'firstName',\n        type: 'string',\n        label: 'Имя',\n        required: true,\n        filterable: false,\n      },\n      {\n        name: 'lastName',\n        type: 'string',\n        label: 'Фамилия',\n        required: true,\n        filterable: false,\n      },\n      {\n        name: 'middleName',\n        type: 'string',\n        label: 'Отчество',\n        required: true,\n        filterable: false,\n      },\n      {\n        name: 'status',\n        type: 'select',\n        label: 'Статус',\n        required: true,\n        sortable: true,\n        filterable: false,\n        options: {\n          [CUSTOMER_STATUS_ACTIVE]: 'Активен',\n          [CUSTOMER_STATUS_BLOCKED]: 'Заблокирован',\n          [CUSTOMER_STATUS_REGISTRATION]: 'Не подтвержден',\n        },\n      },\n      {\n        name: 'phone',\n        type: 'phone',\n        label: 'Телефон',\n        required: true,\n        filterable: true,\n      },\n      {\n        name: 'email',\n        type: 'string',\n        label: 'E-mail',\n        required: true,\n        filterable: true,\n      },\n      {\n        name: 'birthday',\n        type: 'date',\n        label: 'Дата рождения',\n        filterable: false,\n        hideInList: true,\n      },\n      {\n        name: 'company',\n        type: 'string',\n        label: 'Компания',\n        filterable: false,\n        hideInList: true,\n      },\n      {\n        name: 'website',\n        type: 'string',\n        label: 'WWW',\n        filterable: false,\n        hideInList: true,\n      },\n      {\n        name: 'regionId',\n        type: 'custom', // TODO: should be reference field\n        label: 'Область/Край',\n        hideInList: true,\n        component: RegionSelectField,\n        options: {\n          getRegionsUrl: `${host}/admin/v1/location/region`,\n        },\n      },\n      {\n        name: 'cityId',\n        type: 'custom', // TODO: should be reference field\n        label: 'Город',\n        hideInList: true,\n        component: CitySelectField,\n        options: {\n          getRegionsUrl: `${host}/admin/v1/location/region`,\n        },\n      },\n    ],\n    fetchItemsFn,\n    getItemsFn,\n    updateItemsFn,\n    createItemsFn,\n  });\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport { Entity } from '~/application';\nimport { ADMIN_ROLE_EDITOR, ADMIN_ROLE_ADMIN } from '../roles';\nimport { fetchItemsFn, getItemsFn, updateItemsFn, createItemsFn } from '../api';\n\nexport const TYPE_OFFER = 10;\nexport const TYPE_NEWS = 20;\n\nexport default (host: string) =>\n  new Entity({\n    title: 'Акции/Новости',\n    editable: true,\n    viewable: true,\n    roles: {\n      all: [ADMIN_ROLE_ADMIN.toString(), ADMIN_ROLE_EDITOR.toString()],\n    },\n    api: {\n      list: {\n        url: `${host}/admin/v1/news`,\n        method: 'get',\n      },\n      update: {\n        url: `${host}/admin/v1/news`,\n        method: 'put',\n      },\n      create: {\n        url: `${host}/admin/v1/news`,\n        method: 'post',\n      },\n      get: {\n        url: `${host}/admin/v1/news`,\n        method: 'get',\n      },\n    },\n    menu: {\n      enabled: true,\n      label: 'Акции/Новости',\n      url: '/news',\n    },\n    filters: {\n      current: '',\n      value: '',\n    },\n    fields: [\n      {\n        name: 'type',\n        type: 'select',\n        label: 'Тип',\n        required: true,\n        filterable: true,\n        options: {\n          [TYPE_OFFER]: 'Акция',\n          [TYPE_NEWS]: 'Новость',\n        },\n      },\n      {\n        name: 'title',\n        type: 'string',\n        label: 'Заголовок',\n        required: true,\n        title: true,\n        filterable: true,\n      },\n      {\n        name: 'date',\n        type: 'date',\n        label: 'Дата публикации',\n        sortable: true,\n        hideInEdit: true,\n      },\n      {\n        name: 'description',\n        type: 'richtext',\n        label: 'Описание',\n        required: true,\n        hideInList: true,\n      },\n      {\n        name: 'img',\n        type: 'base64image',\n        label: 'Изображение',\n        required: false,\n        hideInList: true,\n      },\n      {\n        name: 'visible',\n        type: 'boolean',\n        label: 'Видимость',\n        sortable: true,\n      },\n    ],\n    fetchItemsFn,\n    getItemsFn,\n    updateItemsFn,\n    createItemsFn,\n  });\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Application } from '~/application';\n// import config from './config';\nimport realConfig from './realConfig';\n\nReactDOM.render(\n  <Application config={realConfig} />,\n  document.getElementById('root')\n);\n","/* Copyright (c) 2020 IceRock MAG Inc. Use of this source code is governed by the Apache 2.0 license. */\n\nexport const AUTH_ERRORS = {\n  CANT_LOGIN: `Can't login. Unknown error.`,\n};\n\nexport const EMPTY_USER: IAuthProviderProps['user'] = {\n  id: 0,\n  email: '',\n  username: '',\n  role: '',\n  token: '',\n};\n\nexport interface IAuthProviderProps {\n  user: {\n    id?: number;\n    email?: string;\n    username?: string;\n    role?: string;\n    token?: string;\n  };\n\n  api: Record<string, { url: string; method: string }>;\n\n  roleTitles: Record<any, string>;\n\n  authRequestFn?: (\n    email: string,\n    password: string\n  ) => Promise<{ user: IAuthProviderProps['user']; error: string }>;\n\n  authPasswRestoreFn?: (email: string) => Promise<{ error: string }>;\n}\n"],"sourceRoot":""}